import { Component, Input, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { Subject } from 'rxjs';
import { AppConstants } from '../@core/constants/app-constants';
import { RBACINFO } from '../@core/urls/users-url.config';
import { MultiSelect } from 'primeng/multiselect';
import * as i0 from "@angular/core";
import * as i1 from "../@core/service/user-org.service";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/alert.service";
import * as i4 from "../@core/service/data-store.service";
import * as i5 from "../@shared/alert/alert.component";
import * as i6 from "primeng/card";
import * as i7 from "primeng/dropdown";
import * as i8 from "primeng/accordion";
import * as i9 from "primeng/multiselect";
import * as i10 from "primeng/checkbox";
import * as i11 from "../@core/directives/permission.directive";
import * as i12 from "primeng/inputtext";
import * as i13 from "@angular/common";
import * as i14 from "primeng/api";
import * as i15 from "primeng/tooltip";
export class UsersComponent {
    constructor(userService, fb, alertService, _storeservice) {
        this.userService = userService;
        this.fb = fb;
        this.alertService = alertService;
        this._storeservice = _storeservice;
        this.RBACORG = new RBACINFO();
        this.userList = [];
        this.providerList = [];
        this.filteredUserList = [];
        this.selectedRoles = [];
        this.selectedTeams = [];
        this.userSearch$ = new Subject();
        this.currentDate = new Date();
        this.rolePolicyGroups = [];
        this.userPolicyGroups = [];
        this.validationErrors = {};
        this.originalPolicyGroupList = [];
        this.previousSelectedPolicyGroups = [];
        this.filteredItems = [];
        this.formSubmit = false;
        this.providerAccount = false;
        this.checked = true;
        this.sendCredentials = true;
        this.imageInformation = '';
        this.initializeForm();
    }
    ngOnInit() {
        this._storeservice.currentStore.subscribe((res) => {
            if (res) {
                this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
                this.httpService = res['HTTPSERVICE'];
            }
        });
        if (this.RBACORG['orgID']) {
            this.orgId = parseInt(this.RBACORG['orgID']);
            if (this.orgId) {
                this.getUserList();
                this.getRolesList();
                this.getPolicyGroupList();
            }
        }
        this.userForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
    }
    isAnyFormControlWithValue() {
        const formValue = this.userForm.value;
        const avoidProperties = ['emailtocurrentuser', 'isenabled', 'providerAccount', 'islocked'];
        for (const key in formValue) {
            if (formValue.hasOwnProperty(key) && !avoidProperties.includes(key) && formValue[key]) {
                return true;
            }
        }
        return false;
    }
    initializeForm() {
        this.userForm = this.fb.group({
            firstname: ['', [Validators.required, Validators.pattern(AppConstants.regexUsername)]],
            middlename: [''],
            lastname: ['', [Validators.required, Validators.pattern(AppConstants.regexUsername)]],
            username: [''],
            // dob: [''],
            email: ['', [Validators.required, Validators.pattern(AppConstants.regexEmail)]],
            userroles: ['', Validators.required],
            userteams: [''],
            userpolicygroups: [''],
            organizationid: [''],
            emailtocurrentuser: false,
            isenabled: [true],
            providerId: [''],
            providerAccount: false,
            thumbnail: [''],
            islocked: [false]
        });
    }
    get formValidate() {
        return this.userForm.controls;
    }
    onInput(event, fieldtype, label, required) {
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
    }
    getUserList(_key) {
        this.userService.getAllUserOrgList(this.orgId).subscribe((res) => {
            this.filteredUserList = [];
            this.userList = res.data;
            this.filteredUserList = this.userList;
        }, (_error) => this.alertService.error(AppConstants.errorMessage));
    }
    getRolesList() {
        this.userService.getAllUserRole(this.orgId).subscribe((res) => {
            this.userRoles = res['data'];
        }, (_error) => this.alertService.error(AppConstants.errorMessage));
    }
    clearSearch(event) {
        const inputElement = document.querySelector('.form-control');
        if (inputElement) {
            inputElement.value = '';
            this.filteredUserList = this.userList;
        }
    }
    getPolicyGroupList(_managementGroupId) {
        this.userService.getOrgPolicyGroupList(this.orgId).subscribe((res) => {
            this.policyGroupList = res['data'].sort((a, b) => a.name.localeCompare(b.name));
        }, (err) => console.log(err));
    }
    addUser() {
        const userData = this.userForm.getRawValue();
        delete userData.thumbnail;
        this.formSubmit = true;
        if (this.userForm.valid) {
            const rolePolicyGroupsIds = new Set(this.rolePolicyGroups.map(item => item.id));
            const userPolicyGroupsIds = new Set(this.userPolicyGroups.map(item => item.id));
            const combinedPolicyGroupsIds = new Set([...rolePolicyGroupsIds, ...userPolicyGroupsIds]);
            const userDataPolicyGroupsIds = new Set(userData.userpolicygroups.map(item => item.id));
            const finalPolicyGroups = [
                ...userData.userpolicygroups.filter(item => !combinedPolicyGroupsIds.has(item.id)),
                ...this.userPolicyGroups
            ].filter(item => userDataPolicyGroupsIds.has(item.id));
            userData.organizationid = this.orgId;
            userData.id = this.userid || 1;
            userData.userteams = userData.userteams || [];
            userData.userroles = [userData.userroles] || [];
            userData.userpolicygroups = finalPolicyGroups;
            userData.emailtocurrentuser = userData.emailtocurrentuser || false;
            userData.username = userData.username || "";
            // userData.dob = new DatePipe('en-US').transform(userData.dob, 'YYYY-MM-dd');
            if (!this.userid) {
                this.userWithOutId(userData);
            }
            else {
                this.userWithID(userData);
            }
        }
    }
    userWithOutId(userData) {
        this.userService.saveUser(userData).subscribe((res) => {
            if (this.providerAccount && this.userForm.controls['providerId'].valid) {
                this.addProviderUser(userData.providerId, res['data']);
            }
            this.cancel(true);
            this.getUserList();
            this.alertService.success('User created successfully');
        }, (error) => {
            if (error.error.message) {
                this.alertService.error(error.error.message);
            }
            else {
                this.alertService.error('Failed to create user');
            }
        });
    }
    userWithID(userData) {
        if (this.uploadedFile) {
            userData.additionalinfo = {
                photo: this.imageData,
                thumbnail: this.imageData
            };
        }
        this.userService.updateUser(userData, this.userid).subscribe(() => {
            this.cancel(false);
            this.getUserList();
            this.getUserInfo(userData);
            this.userForm.controls['username'].disable();
            this.userForm.controls['email'].disable();
            this.alertService.success('User updated successfully');
        }, (err) => {
            if (err.error.message) {
                this.alertService.error(err.error.message);
            }
            else {
                this.alertService.error('Failed to create user');
            }
        });
    }
    mapUserToRole(userId, roleId) {
        const request = {
            userId: userId,
            roleId: roleId
        };
        this.userService.addUserRole(request).subscribe(() => console.log('User mapped to role Successfully'));
    }
    onClickAddUser() {
        this.userForm.reset();
        this.userForm.controls['email'].enable();
        this.initializeForm();
        this.userForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
        this.formSubmit = false;
        this.sendCredentials = true;
        this.userid = '';
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.policyGroupList.map((p) => p.disabled = false);
        this.validationErrors = {};
        this.userForm.get('userpolicygroups').setValue([]);
        this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
        this.enableButton = false;
    }
    cancel(changeFlag) {
        if (!this.userid) {
            this.userForm.reset();
            this.userForm.patchValue({
                isenabled: true,
                islocked: false
            });
            this.validationErrors = {};
            this.policyGroupsLength = 0;
        }
        this.providerAccount = false;
        this.formSubmit = false;
        this.userForm.controls['email'].enable();
        this.userForm.controls['username'].enable();
        if (changeFlag) {
            this.policyGroupList.map((p) => p.disabled = false);
        }
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.validationErrors = {};
    }
    searchUser(event) {
        const value = event.target.value.toLowerCase();
        this.filteredUserList = this.userList.filter(a => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.firstname) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    getUserInfo(user) {
        this.userPolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.validationErrors = {};
        this.formSubmit = false;
        this.sendCredentials = false;
        this.userid = user.id;
        this.userService.getAllUserList(this.userid).subscribe((res) => {
            var _a, _b, _c, _d, _e, _f;
            this.imageInformation = '';
            // this.imageInformation = res.data.additionalinfo?.thumbnail?.fileName?.split('/')[2] || '';
            this.userForm.patchValue({
                firstname: res.data.firstname,
                middlename: res.data.middlename,
                lastname: res.data.lastname,
                username: res.data.username,
                // dob: new Date(res.data.dob),
                email: res.data.email,
                organizationid: res.data.organizationid,
                thumbnail: ((_b = (_a = res.data.additionalinfo) === null || _a === void 0 ? void 0 : _a.thumbnail) === null || _b === void 0 ? void 0 : _b.url) || '',
                isenabled: (_c = res === null || res === void 0 ? void 0 : res.data) === null || _c === void 0 ? void 0 : _c.isenabled,
                islocked: (_d = res === null || res === void 0 ? void 0 : res.data) === null || _d === void 0 ? void 0 : _d.islocked,
                userroles: ((_f = (_e = res === null || res === void 0 ? void 0 : res.data) === null || _e === void 0 ? void 0 : _e.userroles[0]) === null || _f === void 0 ? void 0 : _f.id) || 0,
                userteams: res.data.userteams
                    ? res.data.userteams
                        .filter((item) => item)
                        .map((item) => {
                        return item['id'];
                    })
                    : [],
            });
            const list = this.policyGroupList;
            const UPGs = res.data.policygroups;
            UPGs.forEach(upg => {
                const existingPolicy = list.find(f => f.id === upg.id);
                if (existingPolicy)
                    this.userPolicyGroups.push(existingPolicy);
            });
            this.getRolePolicyGroups(this.userForm.value.userroles);
            this.userForm.controls['email'].disable();
            this.userForm.controls['username'].disable();
            // });
        });
    }
    removeValue(e, item) {
        e.stopPropagation();
        const selectedPGs = this.userForm.value.userpolicygroups;
        const filteredPgs = selectedPGs.filter((s) => s.id !== Number(item.id));
        this.previousSelectedPolicyGroups = filteredPgs;
        this.userForm.patchValue({
            userpolicygroups: filteredPgs
        });
        this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
    }
    getRolePolicyGroups(roleId) {
        this.policyGroupList.forEach(pg => pg['disabled'] = false);
        if (!roleId) {
            this.rolePolicyGroups = [];
            this.userForm.patchValue({
                userpolicygroups: [],
            });
            this.policyGroupsLength = 0;
            return;
        }
        this.userService.getRoleById(roleId).subscribe((res) => {
            if (res) {
                this.rolePolicyGroups = res['data'].policyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const PGS = res['data'].policyGroups
                    .filter((item) => item)
                    .map((item) => {
                    return item;
                }) || [];
                const arr = [];
                const list = this.policyGroupList;
                PGS.map((pg) => {
                    const pgExists = list.filter((f) => f.id === pg.id);
                    if (pgExists.length) {
                        arr.push(pgExists[0]);
                    }
                });
                this.userForm.patchValue({
                    userpolicygroups: arr
                });
                const rolePGs = this.userForm.value.userpolicygroups.map((r) => r.id);
                const includedIndexes = [];
                const excludedIndexes = [];
                this.policyGroupList.forEach((pg, index) => {
                    if (rolePGs.includes(pg.id)) {
                        includedIndexes.push(index);
                    }
                    else {
                        excludedIndexes.push(index);
                    }
                });
                const reorderedList = includedIndexes.map(index => this.policyGroupList[index]).concat(excludedIndexes.map(index => this.policyGroupList[index]));
                console.log(reorderedList, "reorder");
                reorderedList.forEach(pg => {
                    if (rolePGs.includes(pg.id)) {
                        pg['disabled'] = true;
                    }
                });
                this.policyGroupList = reorderedList;
                this.userPolicyGroups = this.userPolicyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const allPolicyGroups = this.userForm.value.userpolicygroups.concat(this.userPolicyGroups);
                const uniquePolicyGroups = Array.from(new Set(allPolicyGroups));
                this.previousSelectedPolicyGroups = uniquePolicyGroups;
                this.userForm.patchValue({ userpolicygroups: uniquePolicyGroups });
                this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
            }
        }, (_err) => this.alertService.error('Failed to Fetch Policy Groups'));
    }
    delete(event, id) {
        event.stopPropagation();
        this.deletedId = id;
        $('#Deleteuser').modal('show');
    }
    deleteUser() {
        this.userService.deleteUser(this.deletedId).subscribe(() => {
            this.cancel(true);
            this.alertService.success('User deleted successfully');
            $('#Deleteuser').modal('hide');
            this.getUserList();
        }, (_err) => this.alertService.error('Failed to delete User'));
    }
    cancelUser() {
        this.sendCredentials = true;
        this.formSubmit = false;
        this.userForm.reset();
        this.userForm.patchValue({
            isenabled: true,
            islocked: false
        });
        this.userForm.controls['email'].enable();
        this.userForm.controls['username'].enable();
        this.userid = '';
        this.policyGroupList.map((p) => p.disabled = false);
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.validationErrors = {};
        this.previousSelectedPolicyGroups = [];
        this.policyGroupsLength = 0;
    }
    activateUser() {
        const userData = this.userForm.getRawValue();
        const body = {
            email: userData.email,
            code: userData.otp
        };
        this.userService.activateUser(body).subscribe((_res) => {
            this.alertService.success('User Activated Successfully');
        }, (_err) => {
            this.alertService.error('User Activation Failed');
        });
    }
    selectProvider(selected) {
        this.providerAccount = selected;
    }
    addProviderUser(providerId, userid) {
        const data = {
            providerId: providerId,
            accountId: userid.toString()
        };
        this.userService.addProviderUser(data).subscribe(() => {
            console.log('Provider User added Successfully');
        }, (_err) => console.log('failed to add Provider user'));
    }
    handleFileInput(fileValue) {
        const target = fileValue.target;
        const file = target.files[0];
        this.uploadedFile = fileValue.target.files[0].name;
        this.imageData = {
            contentType: fileValue.target.files[0].type,
            fileName: `user-profileimage/${this.userid}/${this.uploadedFile.replaceAll(' ', '')}`
        };
        this.imageInformation = '';
        if (this.validateImage(fileValue.target.files)) {
            this.userService.uploadKey(this.imageData).subscribe((res) => {
                this.urlPath = res.data;
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putUpload(this.urlPath, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((_resp) => {
                    this.alertService.success('Profile Image uploaded successfully');
                    const reader = new FileReader();
                    reader.onload = () => {
                        this.userForm.patchValue({ thumbnail: reader.result });
                    };
                    reader.readAsDataURL(file);
                    this.attachType = fileValue.target.files[0].type;
                }, (error) => {
                    if (error.status == 0) {
                        this.alertService.error(AppConstants.errorMessage);
                        this.uploadedFile = '';
                        this.urlPath = '';
                    }
                });
            }, (_error) => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
    }
    onClickRemoveProfile() {
        $('#DeleteProfile').modal('show');
    }
    removeThumbnail() {
        this.cancel(true);
        this.alertService.success('Profile image deleted successfully.');
        $('#DeleteProfile').modal('hide');
        this.userForm.controls['thumbnail'].reset();
        this.imageInformation = '';
        this.imageData = '';
        this.uploadedFile = '';
        this.userForm.controls['username'].disable();
        this.userForm.controls['email'].disable();
    }
    validateImage(file) {
        const fileSize = Number(file[0].size) / 1024;
        const filetype = file[0].type.replace('image/', '');
        if (filetype === 'jpg' || filetype === 'jpeg' || filetype === 'png' || filetype === 'gif') {
            if (fileSize < 100) {
                return true;
            }
            else {
                this.imageInformation = 'Image size exceeds 100 KB';
                this.alertService.warn('File is bigger than 100 KB');
                return false;
            }
        }
        else {
            this.imageInformation = '';
            this.alertService.warn(`${filetype} format is not supported`);
            return false;
        }
    }
    stopPropagation(event) {
        event.stopPropagation();
    }
    selectPolicyGroup(event) {
        let currentSelections = event.value;
        const previouslySelected = this.previousSelectedPolicyGroups;
        // if-condition signifies select-all or de-select multiple values at a time
        if (!(event.hasOwnProperty('itemValue') && event.itemValue)) {
            // select-all or de-select all action 
            let deSelectAllPolicyGroups = false;
            let selectAllPolicyGroups = false;
            //Edge Case 1: select-all policygroups action criteria with no filters applied -> All PGs in the dropdown is selected
            if (currentSelections.length === this.policyGroupList.length) {
                selectAllPolicyGroups = true;
            }
            //Edge Case 2: de-select-all policygroups with no filters applied -> All PGs in dropdown is de-selected and only role-based PGs remain
            if (currentSelections.length === this.rolePolicyGroups.length &&
                this.rolePolicyGroups.every(rolePolicy => currentSelections.some(selection => selection.id === rolePolicy.id))) {
                deSelectAllPolicyGroups = true;
            }
            //If Edge Case 1 or Edge Case 2 happen, this.filterText should be set to ''
            if (selectAllPolicyGroups || deSelectAllPolicyGroups) {
                this.filterText = '';
            }
            //Edge Case 3: filters have been applied and select-all or de-select-all PGs in filtered view 
            if (this.filterText && this.filterText !== '') {
                const filteredItemIds = this.filteredItems.map(item => item.id);
                if (currentSelections.length === 0) {
                    //Edge Case 3.1 : Deselect-all in filtered view
                    this.previousSelectedPolicyGroups = previouslySelected.filter((item) => !filteredItemIds.includes(item.id));
                    currentSelections = this.previousSelectedPolicyGroups;
                }
                else {
                    //Edge Case 3.2 :Select-all in filtered view
                    const newSelections = this.filteredItems.filter((item) => !previouslySelected.some((prevItem) => prevItem.id === item.id));
                    this.previousSelectedPolicyGroups = [...previouslySelected, ...newSelections];
                    currentSelections = this.previousSelectedPolicyGroups;
                }
            }
        }
        this.updateSelections(this.userForm.value.userroles, currentSelections);
        this.policyGroupsLength = currentSelections.length;
    }
    updateSelections(roleId, currentSelections) {
        this.policyGroupList.forEach(pg => pg['disabled'] = false);
        if (!roleId) {
            this.rolePolicyGroups = [];
            this.userForm.patchValue({
                userpolicygroups: [],
            });
            return;
        }
        this.userService.getRoleById(roleId).subscribe((res) => {
            if (res) {
                this.rolePolicyGroups = res['data'].policyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const PGS = res['data'].policyGroups
                    .filter((item) => item)
                    .map((item) => {
                    return item;
                }) || [];
                const arr = [];
                const list = this.policyGroupList;
                PGS.map((pg) => {
                    const pgExists = list.filter((f) => f.id === pg.id);
                    if (pgExists.length) {
                        arr.push(pgExists[0]);
                    }
                });
                console.log(arr);
                this.userForm.patchValue({
                    userpolicygroups: arr
                });
                const rolePGs = this.userForm.value.userpolicygroups.map((r) => r.id);
                const includedIndexes = [];
                const excludedIndexes = [];
                this.policyGroupList.forEach((pg, index) => {
                    if (rolePGs.includes(pg.id)) {
                        includedIndexes.push(index);
                    }
                    else {
                        excludedIndexes.push(index);
                    }
                });
                const reorderedList = includedIndexes.map(index => this.policyGroupList[index]).concat(excludedIndexes.map(index => this.policyGroupList[index]));
                console.log(reorderedList, "reorder");
                reorderedList.forEach(pg => {
                    if (rolePGs.includes(pg.id)) {
                        pg['disabled'] = true;
                    }
                });
                this.policyGroupList = reorderedList;
                const allPolicyGroups = this.userForm.value.userpolicygroups.concat(currentSelections);
                const uniquePolicyGroups = Array.from(new Set(allPolicyGroups));
                this.userForm.patchValue({ userpolicygroups: uniquePolicyGroups });
                this.previousSelectedPolicyGroups = uniquePolicyGroups;
                this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
            }
        }, (_err) => this.alertService.error('Failed to Fetch Policy Groups'));
    }
    onPageNameInput(event, name) {
        const input = event.target;
        const startPosition = input.selectionStart;
        const endPosition = input.selectionEnd;
        const pagenameControl = this.userForm.get(name);
        if (pagenameControl.value) {
            const newValue = pagenameControl.value
                .split(' ')
                .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                .join(' ');
            pagenameControl.patchValue(newValue, { emitEvent: false });
            // Restore cursor position
            input.setSelectionRange(startPosition, endPosition);
        }
    }
    onFilterPolicyGroup(event) {
        this.filterText = event.filter;
        this.filteredItems = this.policyGroupList.filter(item => item.policygroupname.toLowerCase().includes(this.filterText.toLowerCase()));
    }
}
UsersComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: UsersComponent, deps: [{ token: i1.UserOrgService }, { token: i2.FormBuilder }, { token: i3.AlertService }, { token: i4.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
UsersComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: UsersComponent, selector: "users", inputs: { RBACORG: "RBACORG", PERMISSION: "PERMISSION" }, viewQueries: [{ propertyName: "ms", first: true, predicate: MultiSelect, descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\" [formGroup]=\"userForm\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2 px-0 px-sm-0\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex align-items-center\">\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\r\n              <input class=\"form-control\" fieldKey=\"SETTINGS_USR_SEARCH_BY_NAME\" placeholder=\"Search by User name\"\r\n                type=\"text\" (keyup)=\"searchUser($event)\" pInputText />\r\n            </span>\r\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" (click)=\"onClickAddUser()\">Add</button>\r\n            <!-- Modified line -->\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"useracess\">\r\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n              *ngIf=\"!filteredUserList.length\">\r\n              <p>No Record Found</p>\r\n            </div>\r\n            <ng-container *ngFor=\"let item of filteredUserList\">\r\n              <div class=\"row userdata align-items-center\" (click)=\"getUserInfo(item)\"\r\n                [ngClass]=\"{ active: item.id === userid }\">\r\n                <div class=\"col-12\">\r\n                  <img *ngIf=\"!item?.additionalinfo?.thumbnail?.url\" src=\"assets/images/user-empty.png\" alt=\"user\"\r\n                    class=\"userempty mr-2\" />\r\n                  <img *ngIf=\"item?.additionalinfo?.thumbnail?.url\" [src]=\"item?.additionalinfo?.thumbnail?.url\"\r\n                    alt=\"user\" class=\"userempty mr-2\" />\r\n\r\n                  <div class=\"overflow_txt userInforight\">\r\n                    <span class=\"nameuser\">{{ item.firstname + ' ' + item.lastname }}</span>\r\n                    <br />\r\n                    <span class=\"emailuser\">{{ item.email }}</span> <br />\r\n                  </div>\r\n\r\n                  <div class=\"lock-icon\">\r\n                    <span class=\"right-icons\" *ngIf=\"item?.islocked\">\r\n                      <em class=\"fa fa-lock mr-2\" aria-hidden=\"true\" (click)=\"stopPropagation($event)\"></em>\r\n                    </span>\r\n                    <span class=\"right-icons\">\r\n                      <em class=\"fa fa-trash\" (click)=\"delete($event, item.id)\" aria-hidden=\"true\"\r\n                        *showField=\"'SETTINGS_USR_DELETE_USER'\"></em>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-lg-8 col-md-6 col-12 user-right setting-tab mt-2\">\r\n      <p-card class=\"rbac-card h-100\" [style]=\"{ width: '100%' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Personal Details</span>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"fname\" class=\"referral-form-labels\">First Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"fname\" type=\"text\" placeholder=\"Enter First Name\" formControlName=\"firstname\"\r\n              fieldKey=\"SETTINGS_USR_FIRST_NAME\" aria-describedby=\"fname\" pInputText\r\n              (keyup)=\"onPageNameInput($event, 'firstname')\"\r\n              (input)=\"onInput($event, 'username', 'First Name', true)\" />\r\n            <div *ngIf=\"validationErrors['First Name']\" class=\"p-error block mt-1\">{{validationErrors['First Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['First Name'] && formValidate['firstname'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['firstname'].invalid\" class=\"p-error block mt-1\">First Name is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"mname\" class=\"referral-form-labels\">Middle Name </label>\r\n            <input id=\"mname\" type=\"text\" placeholder=\"Enter Middle Name\" formControlName=\"middlename\"\r\n              fieldKey=\"SETTINGS_USR_MIDDLE_NAME\" aria-describedby=\"mname\" pInputText\r\n              (keyup)=\"onPageNameInput($event, 'middlename')\"\r\n              (input)=\"onInput($event, 'username', 'Middle Name', false)\" />\r\n            <div *ngIf=\"validationErrors['Middle Name']\" class=\"p-error block mt-1\">{{validationErrors['Middle Name']}}\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"lName\" class=\"referral-form-labels\">Last Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"lName\" type=\"text\" formControlName=\"lastname\" placeholder=\"Enter Last Name\"\r\n              fieldKey=\"SETTINGS_USR_LAST_NAME\" pInputText (keyup)=\"onPageNameInput($event, 'lastname')\"\r\n              aria-describedby=\"lName\" (input)=\"onInput($event, 'username', 'Last Name', true)\" />\r\n            <div *ngIf=\"validationErrors['Last Name']\" class=\"p-error block mt-1\">{{validationErrors['Last Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['Last Name'] && formValidate['lastname'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['lastname'].invalid\" class=\"p-error block mt-1\">Last Name is required </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <!-- <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"userName\" class=\"referral-form-labels\">User Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"userName\" type=\"text\" formControlName=\"username\" placeholder=\"Enter User Name\"\r\n              aria-describedby=\"userName\" fieldKey=\"SETTINGS_USR_USERNAME\" pInputText />\r\n            <div *ngIf=\"formValidate['username'].errors && formSubmit\">\r\n              <small *ngIf=\"formValidate['username'].invalid\" class=\"p-error block\">User Name is required </small>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"usersEmailid\" class=\"referral-form-labels\">Email ID\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"usersEmailid\" fieldKey=\"SETTINGS_USR_EMAIL\" formControlName=\"email\" placeholder=\"Enter Email ID\"\r\n              type=\"text\" (input)=\"onInput($event, 'email', 'Email ID', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Email ID']\" class=\"p-error block mt-1\">{{validationErrors['Email ID']}}</div>\r\n            <div *ngIf=\"!validationErrors['Email ID'] && formValidate['email'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['email'].errors['required']\" class=\"p-error block mt-1\">Email ID is required\r\n              </div>\r\n            </div>\r\n            <!-- <div *ngIf=\"formValidate['email'].errors && formSubmit\">\r\n              <small *ngIf=\"formValidate['email'].errors['pattern']\" class=\"p-error block\">Valid email is required\r\n              </small>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"role\" for=\"role\" class=\"referral-form-labels\">Role\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown inputId=\"role\" [options]=\"userRoles\" placeholder=\"Select a Role\" formControlName=\"userroles\"\r\n              styleClass=\"w-100\" optionLabel=\"name\" [resetFilterOnHide]=\"true\" [filter]=\"true\" [showClear]=\"true\"\r\n              optionValue=\"id\" ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_USR_ROLE\"\r\n              (onChange)=\"getRolePolicyGroups($event.value)\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['userroles'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['userroles'].invalid\" class=\"p-error block mt-1\">Role is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-md-12 col-12\">\r\n            <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n              <p-accordionTab>\r\n                <ng-template pTemplate=\"header\">\r\n                  <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                    <span class=\"font-bold\"><label for=\"pGroup\" class=\"referral-form-labels mb-0\">Additional Policy\r\n                        Groups</label> <span *ngIf=\"policyGroupsLength > 0\"\r\n                        class=\"pg-count ml-2\">{{policyGroupsLength}}</span> </span>\r\n                  </span>\r\n                </ng-template>\r\n                <p-multiSelect [options]=\"policyGroupList\" formControlName=\"userpolicygroups\" [resetFilterOnHide]=\"true\"\r\n                  defaultLabel=\"Select Policy Groups\" optionLabel=\"policygroupname\" inputId=\"pGroup\"\r\n                  ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_USR_POLICY_GROUP\" (onChange)=\"selectPolicyGroup($event)\" \r\n                  (onFilter)=\"onFilterPolicyGroup($event)\" display=\"chip\" styleClass=\"policygroup-v2\">\r\n                  <ng-template let-value pTemplate=\"selectedItems\">\r\n                    <div *ngFor=\"let option of value\">\r\n                      <ng-container>\r\n                        <div #selectedpg class=\"p-multiselect-token\" [ngClass]=\"option.disabled ? 'disabled' : '' \"\r\n                          id=\"{{option.id}}\">\r\n                          <span class=\"policygroupname\">\r\n                            {{ option.policygroupname }}\r\n                          </span>\r\n                          <span class=\"rolepg ml-2 badge badge-primary\" *ngIf=\"option.disabled\">\r\n                            Role\r\n                          </span>\r\n                          <em class=\"pi pi-times-circle ml-2 clear-icon right-sec\" *ngIf=\"!option.disabled\"\r\n                            role=\"button\" (click)=\"removeValue($event, selectedpg)\"></em>\r\n                        </div>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div *ngIf=\"!value || value.length === 0\">Select Policy Groups\r\n                    </div>\r\n                  </ng-template>\r\n                  <ng-template let-pg pTemplate=\"item\">\r\n                    <div class=\"d-flex align-items-center flex-row justify-content-between gap-2 disabled-list w-100\">\r\n                      <div>{{ pg.name }}</div>\r\n                      <span class=\"rolepg ml-2 badge badge-primary\" *ngIf=\"pg.disabled\">Role</span>\r\n                    </div>\r\n                  </ng-template>\r\n                </p-multiSelect>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-md-12 col-12 mb-1 d-flex align-items-center\" *ngIf=\"!sendCredentials\">\r\n            <label for=\"file\" class=\"btn btn-primary mt-2 mb-2 profile d-flex align-items-center\">\r\n              <span class=\"material-icon material-symbols-outlined action-btn upload mr-2\">cloud_upload</span>Add\r\n              Image</label>\r\n            <span class=\"material-icon material-symbols-outlined text-muted action-btn mx-2\"\r\n              pTooltip=\"Supported file formats are JPG, PNG, JPEG and GIF\" style=\"cursor: pointer;\">\r\n              Info\r\n            </span>\r\n            <input type=\"file\" (change)=\"handleFileInput($event)\" id=\"file\" aria-hidden=\"true\"\r\n              style=\"visibility: hidden; display: none\" />\r\n            <img *ngIf=\"userForm.controls['thumbnail'].value\" [src]=\"userForm.controls['thumbnail'].value\" alt=\"user\"\r\n              class=\"userempty mr-0\" />\r\n            <label class=\"warning ml-2 mb-md-0\"\r\n              [ngStyle]=\"{ color: imageInformation === 'Image size exceeds 100 KB' ? '#fc0303' : '#007cc3'}\">{{\r\n              imageInformation }}</label> <em class=\"pi pi-trash ml-2\" pTooltip=\"Remove Image\"\r\n              *ngIf=\"userForm.controls['thumbnail'].value && imageInformation !== 'Image size exceeds 100 KB'\"\r\n              (click)=\"onClickRemoveProfile()\" style=\"cursor: pointer;\"></em>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"binary\" [binary]=\"true\"\r\n                fieldKey=\"SETTINGS_USR_EMAIL_TO_CURRENT_USER\" formControlName=\"emailtocurrentuser\">\r\n              </p-checkbox>\r\n              <label for=\"binary\">Send Credentials to Current Logged in User</label>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"!sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"isenabled\" [binary]=\"true\" formControlName=\"isenabled\">\r\n              </p-checkbox>\r\n              <label for=\"isenabled\">Active</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"!sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"islocked\" [binary]=\"true\" formControlName=\"islocked\">\r\n              </p-checkbox>\r\n              <label for=\"islocked\">Locked</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\"></div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\"></div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12 mb-0\">\r\n            <button fieldKey=\"SETTINGS_USR_ADD_UPDATE\" class=\"pull-right mr-2 mb-2 btn btn-primary btncommon\"\r\n              (click)=\"addUser()\">\r\n              {{ userid ? 'Update User' : 'Add User' }}\r\n            </button>\r\n            <button fieldKey=\"SETTINGS_USR_CANCEL\" class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n              (click)=\"cancelUser()\" [disabled]=\"!enableButton\">\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure want to Delete User?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteUser()\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"DeleteProfile\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure you want to delete the Profile Image?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\"\r\n            (click)=\"removeThumbnail()\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--font-13)}.useracess{border-radius:2px;padding:5px 0;overflow-y:auto}.pi-trash{color:red;font-size:var(--font-16)}.action-btn.upload{font-size:var(--font-19)}.userempty{max-width:none;border-radius:50%;height:40px;width:40px;display:inline-block;margin-right:15px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}.overflow_txt.userInforight{display:inline-block;vertical-align:middle;width:calc(100% - 50px)}.lock-icon{position:absolute;right:15px;top:50%;margin-top:-13px}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#767676}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}.rbac-card .profile{color:#fff}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-lock{font-size:var(--font-18)}.right-icons .fa-trash{font-size:var(--font-18)}@media screen and (max-width: 767px){.useracess{max-height:400px}}@media screen and (min-width: 768px){.useracess{height:calc(100vh - 188px)}}@media screen and (min-width: 990px) and (max-width: 1024px){.useracess .userempty{height:100%;width:100%}}:host ::ng-deep .clear-icon{font-size:13px}:host ::ng-deep .policygroup-accordion .policygroup-v2.p-multiselect .p-multiselect-panel{top:auto!important}\n"], components: [{ type: i5.AlertComponent, selector: "app-alert" }, { type: i6.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { type: i7.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i8.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { type: i8.AccordionTab, selector: "p-accordionTab", inputs: ["header", "disabled", "cache", "transitionOptions", "selected"], outputs: ["selectedChange"] }, { type: i9.MultiSelect, selector: "p-multiSelect", inputs: ["style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "label", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "autoZIndex", "baseZIndex", "filterBy", "virtualScroll", "itemSize", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "scrollHeight", "defaultLabel", "placeholder", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide"] }, { type: i10.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }], directives: [{ type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i11.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i12.InputText, selector: "[pInputText]" }, { type: i13.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i13.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i13.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i14.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { type: i15.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { type: i13.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: UsersComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'users',
                    templateUrl: './users.component.html',
                    styleUrls: ['./users.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.UserOrgService }, { type: i2.FormBuilder }, { type: i3.AlertService }, { type: i4.DataStoreService }]; }, propDecorators: { RBACORG: [{
                type: Input
            }], PERMISSION: [{
                type: Input
            }], ms: [{
                type: ViewChild,
                args: [MultiSelect]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtdXNlcnMvc3JjL2xpYi9waWNzLXJiYWMtdXNlcnMvdXNlcnMvdXNlcnMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtdXNlcnMvc3JjL2xpYi9waWNzLXJiYWMtdXNlcnMvdXNlcnMvdXNlcnMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBMEIsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMvQixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFFaEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBSTFELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTbEQsTUFBTSxPQUFPLGNBQWM7SUE2Q3pCLFlBQ1UsV0FBMkIsRUFDM0IsRUFBZSxFQUNmLFlBQTBCLEVBQzFCLGFBQStCO1FBSC9CLGdCQUFXLEdBQVgsV0FBVyxDQUFnQjtRQUMzQixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YsaUJBQVksR0FBWixZQUFZLENBQWM7UUFDMUIsa0JBQWEsR0FBYixhQUFhLENBQWtCO1FBaER6QixZQUFPLEdBQWEsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUduRCxhQUFRLEdBQWdCLEVBQUUsQ0FBQztRQUMzQixpQkFBWSxHQUFvQixFQUFFLENBQUM7UUFDbkMscUJBQWdCLEdBQWdCLEVBQUUsQ0FBQztRQUNuQyxrQkFB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Q0FBQztZQUNiLGVBQWUsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDM0QsMEJBQTBCO1lBQzFCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDckQ7SUFDSCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsS0FBUztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZJLENBQUM7OzRHQXRxQlUsY0FBYztnR0FBZCxjQUFjLDJJQUdkLFdBQVcsZ0RDdEJ4QiwyZ2lCQStSQTs0RkQ1UWEsY0FBYztrQkFMMUIsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsT0FBTztvQkFDakIsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsU0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUM7aUJBQ3RDO3lMQUVpQixPQUFPO3NCQUF0QixLQUFLO2dCQUNVLFVBQVU7c0JBQXpCLEtBQUs7Z0JBQ2tCLEVBQUU7c0JBQXpCLFNBQVM7dUJBQUMsV0FBVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGVQaXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBBcHBDb25zdGFudHMgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvYXBwLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IFByb3ZpZGVyR3JvdXAsIFVzZXJHcm91cCB9IGZyb20gJy4uL0Bjb3JlL2RhdGFtb2RlbC91c2VyRGF0YU1vZGVsJztcclxuaW1wb3J0IHsgUkJBQ0lORk8gfSBmcm9tICcuLi9AY29yZS91cmxzL3VzZXJzLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBVc2VyT3JnU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvdXNlci1vcmcuc2VydmljZSc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IE11bHRpU2VsZWN0IH0gZnJvbSAncHJpbWVuZy9tdWx0aXNlbGVjdCc7XHJcblxyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndXNlcnMnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi91c2Vycy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdXNlcnMuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVXNlcnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBSQkFDT1JHOiBSQkFDSU5GTyA9IG5ldyBSQkFDSU5GTygpO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBQRVJNSVNTSU9OOiBhbnk7XHJcbiAgQFZpZXdDaGlsZChNdWx0aVNlbGVjdCkgbXM6IE11bHRpU2VsZWN0O1xyXG4gIHVzZXJMaXN0OiBVc2VyR3JvdXBbXSA9IFtdO1xyXG4gIHByb3ZpZGVyTGlzdDogUHJvdmlkZXJHcm91cFtdID0gW107XHJcbiAgZmlsdGVyZWRVc2VyTGlzdDogVXNlckdyb3VwW10gPSBbXTtcclxuICBzZWxlY3RlZFJvbGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIHNlbGVjdGVkVGVhbXM6IHN0cmluZ1tdID0gW107XHJcbiAgdXNlclJvbGVzITogYW55W107XHJcbiAgdXNlclRlYW1zITogYW55W107XHJcbiAgZm9ybVN1Ym1pdDogYm9vbGVhbjtcclxuICBkaXNhYmxlZCE6IGJvb2xlYW47XHJcbiAgdXNlckZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgdXNlclNlYXJjaCQgPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XHJcbiAgZGVsZXRlZElkITogc3RyaW5nO1xyXG4gIHVzZXJpZDogYW55O1xyXG4gIGNoZWNrZWQ6IGJvb2xlYW47XHJcbiAgc2VuZENyZWRlbnRpYWxzOiBib29sZWFuO1xyXG4gIHByb3ZpZGVyQWNjb3VudDogYm9vbGVhbjtcclxuICB1cGxvYWRlZEZpbGU6IGFueTtcclxuICB1cmxQYXRoOiBhbnk7XHJcbiAgaW1hZ2VEYXRhOiBhbnk7XHJcbiAgYXR0YWNoVHlwZTogYW55O1xyXG4gIGltYWdlSW5mb3JtYXRpb24hOiBzdHJpbmc7XHJcbiAgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIHBvbGljeUdyb3VwTGlzdDogYW55O1xyXG4gIG9yZ0luZm86IGFueTtcclxuICBvcmdJZDogYW55O1xyXG4gIGZpcnN0bmFtZTogc3RyaW5nO1xyXG4gIGh0dHBTZXJ2aWNlOiBhbnk7XHJcbiAgbGFzdG5hbWU6IHN0cmluZztcclxuICBtaWRkbGVuYW1lOiBzdHJpbmc7XHJcbiAgcm9sZVBvbGljeUdyb3VwczogYW55ID0gW107XHJcbiAgdXNlclBvbGljeUdyb3VwczogYW55ID0gW107XHJcbiAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gIGlucHV0VmFsaWRhdGlvbk1ldGhvZDogYW55O1xyXG4gIHBvbGljeUdyb3Vwc0xlbmd0aDogYW55O1xyXG4gIGVuYWJsZUJ1dHRvbjogYm9vbGVhbjtcclxuICBvcmlnaW5hbFBvbGljeUdyb3VwTGlzdDogYW55W10gPSBbXTsgXHJcbiAgcHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwczogYW55W10gPSBbXSBcclxuICBmaWx0ZXJUZXh0OiBzdHJpbmc7XHJcbiAgZmlsdGVyZWRJdGVtczogYW55W10gPSBbXTsgXHJcblxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJPcmdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gZmFsc2U7XHJcbiAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5zZW5kQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJyc7XHJcbiAgICB0aGlzLmluaXRpYWxpemVGb3JtKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QgPSByZXNbJ0lOUFVUVkFMSURBVElPTk1FVEhPRCddXHJcbiAgICAgICAgdGhpcy5odHRwU2VydmljZSA9IHJlc1snSFRUUFNFUlZJQ0UnXVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYgKHRoaXMuUkJBQ09SR1snb3JnSUQnXSkge1xyXG4gICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5nZXRSb2xlc0xpc3QoKTtcclxuICAgICAgICB0aGlzLmdldFBvbGljeUdyb3VwTGlzdCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51c2VyRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5lbmFibGVCdXR0b24gPSB0aGlzLmlzQW55Rm9ybUNvbnRyb2xXaXRoVmFsdWUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNBbnlGb3JtQ29udHJvbFdpdGhWYWx1ZSgpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMudXNlckZvcm0udmFsdWU7XHJcbiAgICBjb25zdCBhdm9pZFByb3BlcnRpZXMgPSBbJ2VtYWlsdG9jdXJyZW50dXNlcicsICdpc2VuYWJsZWQnLCAncHJvdmlkZXJBY2NvdW50JywgJ2lzbG9ja2VkJ107XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybVZhbHVlKSB7XHJcbiAgICAgIGlmIChmb3JtVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhYXZvaWRQcm9wZXJ0aWVzLmluY2x1ZGVzKGtleSkgJiYgZm9ybVZhbHVlW2tleV0pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUZvcm0oKSB7XHJcbiAgICB0aGlzLnVzZXJGb3JtID0gdGhpcy5mYi5ncm91cCh7XHJcbiAgICAgIGZpcnN0bmFtZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleFVzZXJuYW1lKV1dLFxyXG4gICAgICBtaWRkbGVuYW1lOiBbJyddLFxyXG4gICAgICBsYXN0bmFtZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleFVzZXJuYW1lKV1dLFxyXG4gICAgICB1c2VybmFtZTogWycnXSxcclxuICAgICAgLy8gZG9iOiBbJyddLFxyXG4gICAgICBlbWFpbDogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleEVtYWlsKV1dLFxyXG4gICAgICB1c2Vycm9sZXM6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIHVzZXJ0ZWFtczogWycnXSxcclxuICAgICAgdXNlcnBvbGljeWdyb3VwczogWycnXSxcclxuICAgICAgb3JnYW5pemF0aW9uaWQ6IFsnJ10sXHJcbiAgICAgIGVtYWlsdG9jdXJyZW50dXNlcjogZmFsc2UsXHJcbiAgICAgIGlzZW5hYmxlZDogW3RydWVdLFxyXG4gICAgICBwcm92aWRlcklkOiBbJyddLFxyXG4gICAgICBwcm92aWRlckFjY291bnQ6IGZhbHNlLFxyXG4gICAgICB0aHVtYm5haWw6IFsnJ10sXHJcbiAgICAgIGlzbG9ja2VkOiBbZmFsc2VdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VyRm9ybS5jb250cm9scztcclxuICB9XHJcblxyXG4gIG9uSW5wdXQoZXZlbnQ6IEV2ZW50LCBmaWVsZHR5cGU6IGFueSwgbGFiZWw6IGFueSwgcmVxdWlyZWQ6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QoZXZlbnQsIGZpZWxkdHlwZSwgbGFiZWwsIHJlcXVpcmVkKTtcclxuICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9yc1tsYWJlbF0gPSBlcnJvcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckxpc3QoX2tleT86IHN0cmluZykge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyT3JnTGlzdCh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmlsdGVyZWRVc2VyTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMudXNlckxpc3QgPSByZXMuZGF0YTtcclxuICAgICAgICB0aGlzLmZpbHRlcmVkVXNlckxpc3QgPSB0aGlzLnVzZXJMaXN0O1xyXG4gICAgICB9LFxyXG4gICAgICAoX2Vycm9yOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0Um9sZXNMaXN0KCkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyUm9sZSh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXNlclJvbGVzID0gcmVzWydkYXRhJ107XHJcbiAgICAgIH0sXHJcbiAgICAgIChfZXJyb3I6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICk7XHJcbiAgfVxyXG4gIGNsZWFyU2VhcmNoKGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udHJvbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkVXNlckxpc3QgPSB0aGlzLnVzZXJMaXN0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UG9saWN5R3JvdXBMaXN0KF9tYW5hZ2VtZW50R3JvdXBJZD86IG51bWJlcikge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRPcmdQb2xpY3lHcm91cExpc3QodGhpcy5vcmdJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLnBvbGljeUdyb3VwTGlzdCA9IHJlc1snZGF0YSddLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xyXG4gICAgICB9LFxyXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcclxuICAgICk7XHJcbiAgfVxyXG4gIGFkZFVzZXIoKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlckZvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGRlbGV0ZSB1c2VyRGF0YS50aHVtYm5haWw7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMudXNlckZvcm0udmFsaWQpIHtcclxuICAgICAgY29uc3Qgcm9sZVBvbGljeUdyb3Vwc0lkcyA9IG5ldyBTZXQodGhpcy5yb2xlUG9saWN5R3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgdXNlclBvbGljeUdyb3Vwc0lkcyA9IG5ldyBTZXQodGhpcy51c2VyUG9saWN5R3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgY29tYmluZWRQb2xpY3lHcm91cHNJZHMgPSBuZXcgU2V0KFsuLi5yb2xlUG9saWN5R3JvdXBzSWRzLCAuLi51c2VyUG9saWN5R3JvdXBzSWRzXSk7XHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhUG9saWN5R3JvdXBzSWRzID0gbmV3IFNldCh1c2VyRGF0YS51c2VycG9saWN5Z3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgZmluYWxQb2xpY3lHcm91cHMgPSBbXHJcbiAgICAgICAgLi4udXNlckRhdGEudXNlcnBvbGljeWdyb3Vwcy5maWx0ZXIoaXRlbSA9PiAhY29tYmluZWRQb2xpY3lHcm91cHNJZHMuaGFzKGl0ZW0uaWQpKSxcclxuICAgICAgICAuLi50aGlzLnVzZXJQb2xpY3lHcm91cHNcclxuICAgICAgXS5maWx0ZXIoaXRlbSA9PiB1c2VyRGF0YVBvbGljeUdyb3Vwc0lkcy5oYXMoaXRlbS5pZCkpO1xyXG4gXHJcbiAgICAgIHVzZXJEYXRhLm9yZ2FuaXphdGlvbmlkID0gdGhpcy5vcmdJZDtcclxuICAgICAgdXNlckRhdGEuaWQgPSB0aGlzLnVzZXJpZCB8fCAxO1xyXG4gICAgICB1c2VyRGF0YS51c2VydGVhbXMgPSB1c2VyRGF0YS51c2VydGVhbXMgfHwgW107XHJcbiAgICAgIHVzZXJEYXRhLnVzZXJyb2xlcyA9IFt1c2VyRGF0YS51c2Vycm9sZXNdIHx8IFtdO1xyXG4gICAgICB1c2VyRGF0YS51c2VycG9saWN5Z3JvdXBzID0gZmluYWxQb2xpY3lHcm91cHNcclxuICAgICAgdXNlckRhdGEuZW1haWx0b2N1cnJlbnR1c2VyID0gdXNlckRhdGEuZW1haWx0b2N1cnJlbnR1c2VyIHx8IGZhbHNlO1xyXG4gICAgICB1c2VyRGF0YS51c2VybmFtZSA9IHVzZXJEYXRhLnVzZXJuYW1lIHx8IFwiXCI7XHJcbiAgICAgIC8vIHVzZXJEYXRhLmRvYiA9IG5ldyBEYXRlUGlwZSgnZW4tVVMnKS50cmFuc2Zvcm0odXNlckRhdGEuZG9iLCAnWVlZWS1NTS1kZCcpO1xyXG4gICAgICBpZiAoIXRoaXMudXNlcmlkKSB7XHJcbiAgICAgICAgdGhpcy51c2VyV2l0aE91dElkKHVzZXJEYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnVzZXJXaXRoSUQodXNlckRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVzZXJXaXRoT3V0SWQodXNlckRhdGE6IGFueSkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5zYXZlVXNlcih1c2VyRGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlckFjY291bnQgJiYgdGhpcy51c2VyRm9ybS5jb250cm9sc1sncHJvdmlkZXJJZCddLnZhbGlkKSB7XHJcbiAgICAgICAgICB0aGlzLmFkZFByb3ZpZGVyVXNlcih1c2VyRGF0YS5wcm92aWRlcklkLCByZXNbJ2RhdGEnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FuY2VsKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnJvcjogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yLmVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICB1c2VyV2l0aElEKHVzZXJEYXRhOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnVwbG9hZGVkRmlsZSkge1xyXG4gICAgICB1c2VyRGF0YS5hZGRpdGlvbmFsaW5mbyA9IHtcclxuICAgICAgICBwaG90bzogdGhpcy5pbWFnZURhdGEsXHJcbiAgICAgICAgdGh1bWJuYWlsOiB0aGlzLmltYWdlRGF0YVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVVc2VyKHVzZXJEYXRhLCB0aGlzLnVzZXJpZCkuc3Vic2NyaWJlKFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgICB0aGlzLmdldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgICAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWyd1c2VybmFtZSddLmRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWydlbWFpbCddLmRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnI6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIuZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbWFwVXNlclRvUm9sZSh1c2VySWQ6IGFueSwgcm9sZUlkOiBhbnkpIHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgICByb2xlSWQ6IHJvbGVJZFxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWRkVXNlclJvbGUocmVxdWVzdCkuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKCdVc2VyIG1hcHBlZCB0byByb2xlIFN1Y2Nlc3NmdWxseScpKTtcclxuICB9XHJcbiAgb25DbGlja0FkZFVzZXIoKSB7XHJcbiAgICB0aGlzLnVzZXJGb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWydlbWFpbCddLmVuYWJsZSgpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplRm9ybSgpO1xyXG4gICAgdGhpcy51c2VyRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5lbmFibGVCdXR0b24gPSB0aGlzLmlzQW55Rm9ybUNvbnRyb2xXaXRoVmFsdWUoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbmRDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICB0aGlzLnVzZXJpZCA9ICcnO1xyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMucG9saWN5R3JvdXBMaXN0Lm1hcCgocCkgPT4gcC5kaXNhYmxlZCA9IGZhbHNlKTtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy51c2VyRm9ybS5nZXQoJ3VzZXJwb2xpY3lncm91cHMnKS5zZXRWYWx1ZShbXSk7XHJcbiAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IHRoaXMudXNlckZvcm0udmFsdWUudXNlcnBvbGljeWdyb3Vwcy5sZW5ndGg7XHJcbiAgICB0aGlzLmVuYWJsZUJ1dHRvbiA9IGZhbHNlO1xyXG4gIH1cclxuICBjYW5jZWwoY2hhbmdlRmxhZykge1xyXG4gICAgaWYgKCF0aGlzLnVzZXJpZCkge1xyXG4gICAgICB0aGlzLnVzZXJGb3JtLnJlc2V0KCk7XHJcbiAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgaXNlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIGlzbG9ja2VkOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0ge307XHJcbiAgICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gMDtcclxuICAgIH1cclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gZmFsc2U7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ2VtYWlsJ10uZW5hYmxlKCk7XHJcbiAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWyd1c2VybmFtZSddLmVuYWJsZSgpO1xyXG4gICAgaWYgKGNoYW5nZUZsYWcpIHtcclxuICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QubWFwKChwKSA9PiBwLmRpc2FibGVkID0gZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoVXNlcihldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdGhpcy5maWx0ZXJlZFVzZXJMaXN0ID0gdGhpcy51c2VyTGlzdC5maWx0ZXIoYSA9PiBhPy5maXJzdG5hbWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8odXNlcjogYW55KSB7XHJcbiAgICB0aGlzLnVzZXJQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbmRDcmVkZW50aWFscyA9IGZhbHNlO1xyXG4gICAgdGhpcy51c2VyaWQgPSB1c2VyLmlkO1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyTGlzdCh0aGlzLnVzZXJpZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJyc7XHJcbiAgICAgIC8vIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9IHJlcy5kYXRhLmFkZGl0aW9uYWxpbmZvPy50aHVtYm5haWw/LmZpbGVOYW1lPy5zcGxpdCgnLycpWzJdIHx8ICcnO1xyXG4gICAgICB0aGlzLnVzZXJGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIGZpcnN0bmFtZTogcmVzLmRhdGEuZmlyc3RuYW1lLFxyXG4gICAgICAgIG1pZGRsZW5hbWU6IHJlcy5kYXRhLm1pZGRsZW5hbWUsXHJcbiAgICAgICAgbGFzdG5hbWU6IHJlcy5kYXRhLmxhc3RuYW1lLFxyXG4gICAgICAgIHVzZXJuYW1lOiByZXMuZGF0YS51c2VybmFtZSxcclxuICAgICAgICAvLyBkb2I6IG5ldyBEYXRlKHJlcy5kYXRhLmRvYiksXHJcbiAgICAgICAgZW1haWw6IHJlcy5kYXRhLmVtYWlsLFxyXG4gICAgICAgIG9yZ2FuaXphdGlvbmlkOiByZXMuZGF0YS5vcmdhbml6YXRpb25pZCxcclxuICAgICAgICB0aHVtYm5haWw6IHJlcy5kYXRhLmFkZGl0aW9uYWxpbmZvPy50aHVtYm5haWw/LnVybCB8fCAnJyxcclxuICAgICAgICBpc2VuYWJsZWQ6IHJlcz8uZGF0YT8uaXNlbmFibGVkLFxyXG4gICAgICAgIGlzbG9ja2VkOiByZXM/LmRhdGE/LmlzbG9ja2VkLFxyXG4gICAgICAgIHVzZXJyb2xlczogcmVzPy5kYXRhPy51c2Vycm9sZXNbMF0/LmlkIHx8IDAsXHJcbiAgICAgICAgdXNlcnRlYW1zOiByZXMuZGF0YS51c2VydGVhbXNcclxuICAgICAgICAgID8gcmVzLmRhdGEudXNlcnRlYW1zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbSlcclxuICAgICAgICAgICAgLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICA6IFtdLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgbGlzdCA9IHRoaXMucG9saWN5R3JvdXBMaXN0O1xyXG4gICAgICBjb25zdCBVUEdzID0gcmVzLmRhdGEucG9saWN5Z3JvdXBzO1xyXG4gICAgICBVUEdzLmZvckVhY2godXBnID0+IHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ1BvbGljeSA9IGxpc3QuZmluZChmID0+IGYuaWQgPT09IHVwZy5pZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nUG9saWN5KSB0aGlzLnVzZXJQb2xpY3lHcm91cHMucHVzaChleGlzdGluZ1BvbGljeSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmdldFJvbGVQb2xpY3lHcm91cHModGhpcy51c2VyRm9ybS52YWx1ZS51c2Vycm9sZXMpO1xyXG5cclxuICAgICAgdGhpcy51c2VyRm9ybS5jb250cm9sc1snZW1haWwnXS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3VzZXJuYW1lJ10uZGlzYWJsZSgpO1xyXG4gICAgICAvLyB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZW1vdmVWYWx1ZShlLCBpdGVtKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQR3MgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHM7XHJcbiAgICBjb25zdCBmaWx0ZXJlZFBncyA9IHNlbGVjdGVkUEdzLmZpbHRlcigocykgPT4gcy5pZCAhPT0gTnVtYmVyKGl0ZW0uaWQpKTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IGZpbHRlcmVkUGdzOyBcclxuICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgIHVzZXJwb2xpY3lncm91cHM6IGZpbHRlcmVkUGdzXHJcbiAgICB9KVxyXG4gICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubGVuZ3RoO1xyXG4gIH1cclxuICBnZXRSb2xlUG9saWN5R3JvdXBzKHJvbGVJZDogYW55KSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwTGlzdC5mb3JFYWNoKHBnID0+IHBnWydkaXNhYmxlZCddID0gZmFsc2UpO1xyXG4gICAgaWYgKCFyb2xlSWQpIHtcclxuICAgICAgdGhpcy5yb2xlUG9saWN5R3JvdXBzID0gW107XHJcbiAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgdXNlcnBvbGljeWdyb3VwczogW10sXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IDA7IFxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnVzZXJTZXJ2aWNlLmdldFJvbGVCeUlkKHJvbGVJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cHMuc29ydCgoYSwgYikgPT4gYS5wb2xpY3lncm91cG5hbWUubG9jYWxlQ29tcGFyZShiLnBvbGljeWdyb3VwbmFtZSkpO1xyXG4gICAgICAgICAgY29uc3QgUEdTID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBzXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbSlcclxuICAgICAgICAgICAgLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICAgIH0pIHx8IFtdXHJcblxyXG4gICAgICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5wb2xpY3lHcm91cExpc3Q7XHJcbiAgICAgICAgICBQR1MubWFwKChwZzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBnRXhpc3RzID0gbGlzdC5maWx0ZXIoKGYpID0+IGYuaWQgPT09IHBnLmlkKVxyXG4gICAgICAgICAgICBpZiAocGdFeGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgYXJyLnB1c2gocGdFeGlzdHNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICAgIHVzZXJwb2xpY3lncm91cHM6IGFyclxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIGNvbnN0IHJvbGVQR3MgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubWFwKChyKSA9PiByLmlkKTtcclxuICAgICAgICAgIGNvbnN0IGluY2x1ZGVkSW5kZXhlcyA9IFtdO1xyXG4gICAgICAgICAgY29uc3QgZXhjbHVkZWRJbmRleGVzID0gW107XHJcbiAgICAgICAgICB0aGlzLnBvbGljeUdyb3VwTGlzdC5mb3JFYWNoKChwZywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvbGVQR3MuaW5jbHVkZXMocGcuaWQpKSB7XHJcbiAgICAgICAgICAgICAgaW5jbHVkZWRJbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGV4Y2x1ZGVkSW5kZXhlcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zdCByZW9yZGVyZWRMaXN0ID0gaW5jbHVkZWRJbmRleGVzLm1hcChpbmRleCA9PiB0aGlzLnBvbGljeUdyb3VwTGlzdFtpbmRleF0pLmNvbmNhdChleGNsdWRlZEluZGV4ZXMubWFwKGluZGV4ID0+IHRoaXMucG9saWN5R3JvdXBMaXN0W2luZGV4XSkpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVvcmRlcmVkTGlzdCwgXCJyZW9yZGVyXCIpO1xyXG4gICAgICAgICAgcmVvcmRlcmVkTGlzdC5mb3JFYWNoKHBnID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvbGVQR3MuaW5jbHVkZXMocGcuaWQpKSB7XHJcbiAgICAgICAgICAgICAgcGdbJ2Rpc2FibGVkJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMucG9saWN5R3JvdXBMaXN0ID0gcmVvcmRlcmVkTGlzdDtcclxuICAgICAgICAgIHRoaXMudXNlclBvbGljeUdyb3VwcyA9IHRoaXMudXNlclBvbGljeUdyb3Vwcy5zb3J0KChhLCBiKSA9PiBhLnBvbGljeWdyb3VwbmFtZS5sb2NhbGVDb21wYXJlKGIucG9saWN5Z3JvdXBuYW1lKSk7XHJcbiAgICAgICAgICBjb25zdCBhbGxQb2xpY3lHcm91cHMgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMuY29uY2F0KHRoaXMudXNlclBvbGljeUdyb3Vwcyk7XHJcbiAgICAgICAgICBjb25zdCB1bmlxdWVQb2xpY3lHcm91cHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWxsUG9saWN5R3JvdXBzKSk7XHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHMgPSB1bmlxdWVQb2xpY3lHcm91cHM7IFxyXG4gICAgICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHsgdXNlcnBvbGljeWdyb3VwczogdW5pcXVlUG9saWN5R3JvdXBzIH0pO1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBGZXRjaCBQb2xpY3kgR3JvdXBzJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoZXZlbnQ6IEV2ZW50LCBpZDogYW55KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoaXMuZGVsZXRlZElkID0gaWQ7XHJcbiAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVVc2VyKCkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5kZWxldGVVc2VyKHRoaXMuZGVsZXRlZElkKS5zdWJzY3JpYmUoXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICB0aGlzLmNhbmNlbCh0cnVlKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgVXNlcicpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY2FuY2VsVXNlcigpIHtcclxuICAgIHRoaXMuc2VuZENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy51c2VyRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgaXNlbmFibGVkOiB0cnVlLFxyXG4gICAgICBpc2xvY2tlZDogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgdGhpcy51c2VyRm9ybS5jb250cm9sc1snZW1haWwnXS5lbmFibGUoKTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3VzZXJuYW1lJ10uZW5hYmxlKCk7XHJcbiAgICB0aGlzLnVzZXJpZCA9ICcnO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cExpc3QubWFwKChwKSA9PiBwLmRpc2FibGVkID0gZmFsc2UpO1xyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzID0gW107IFxyXG4gICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSAwO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVVc2VyKCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJGb3JtLmdldFJhd1ZhbHVlKCk7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgIGNvZGU6IHVzZXJEYXRhLm90cFxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWN0aXZhdGVVc2VyKGJvZHkpLnN1YnNjcmliZShcclxuICAgICAgKF9yZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1VzZXIgQWN0aXZhdGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9LFxyXG4gICAgICAoX2VycjogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1VzZXIgQWN0aXZhdGlvbiBGYWlsZWQnKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdFByb3ZpZGVyKHNlbGVjdGVkOiBhbnkpIHtcclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gc2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICBhZGRQcm92aWRlclVzZXIocHJvdmlkZXJJZDogYW55LCB1c2VyaWQ6IGFueSkge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgcHJvdmlkZXJJZDogcHJvdmlkZXJJZCxcclxuICAgICAgYWNjb3VudElkOiB1c2VyaWQudG9TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWRkUHJvdmlkZXJVc2VyKGRhdGEpLnN1YnNjcmliZShcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm92aWRlciBVc2VyIGFkZGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9LFxyXG4gICAgICAoX2VycjogYW55KSA9PiBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGFkZCBQcm92aWRlciB1c2VyJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGaWxlSW5wdXQoZmlsZVZhbHVlOiBhbnkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGZpbGVWYWx1ZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IGZpbGU6IEZpbGUgPSB0YXJnZXQuZmlsZXMhWzBdO1xyXG4gICAgdGhpcy51cGxvYWRlZEZpbGUgPSBmaWxlVmFsdWUudGFyZ2V0LmZpbGVzWzBdLm5hbWU7XHJcbiAgICB0aGlzLmltYWdlRGF0YSA9IHtcclxuICAgICAgY29udGVudFR5cGU6IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0udHlwZSxcclxuICAgICAgZmlsZU5hbWU6IGB1c2VyLXByb2ZpbGVpbWFnZS8ke3RoaXMudXNlcmlkfS8ke3RoaXMudXBsb2FkZWRGaWxlLnJlcGxhY2VBbGwoJyAnLCAnJyl9YFxyXG4gICAgfTtcclxuICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gICAgaWYgKHRoaXMudmFsaWRhdGVJbWFnZShmaWxlVmFsdWUudGFyZ2V0LmZpbGVzKSkge1xyXG4gICAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwbG9hZEtleSh0aGlzLmltYWdlRGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy51cmxQYXRoID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICBjb25zdCB1cGxvYWRBdHRhY2htZW50OiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpO1xyXG4gICAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudERldGFpbHMgPSB1cGxvYWRBdHRhY2htZW50LmZpbGVzWzBdO1xyXG4gICAgICAgICAgdGhpcy5odHRwU2VydmljZS5wdXRVcGxvYWQodGhpcy51cmxQYXRoLCB1cGxvYWRBdHRhY2htZW50RGV0YWlscywgdXBsb2FkQXR0YWNobWVudERldGFpbHMudHlwZSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgICAoX3Jlc3A6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1Byb2ZpbGUgSW1hZ2UgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHsgdGh1bWJuYWlsOiByZWFkZXIucmVzdWx0IGFzIHN0cmluZyB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIHRoaXMuYXR0YWNoVHlwZSA9IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0udHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGxvYWRlZEZpbGUgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMudXJsUGF0aCA9ICcnO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIChfZXJyb3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbGlja1JlbW92ZVByb2ZpbGUoKSB7XHJcbiAgICAkKCcjRGVsZXRlUHJvZmlsZScpLm1vZGFsKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHJlbW92ZVRodW1ibmFpbCgpIHtcclxuICAgIHRoaXMuY2FuY2VsKHRydWUpO1xyXG4gICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUHJvZmlsZSBpbWFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICQoJyNEZWxldGVQcm9maWxlJykubW9kYWwoJ2hpZGUnKTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnJlc2V0KCk7XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSAnJztcclxuICAgIHRoaXMuaW1hZ2VEYXRhID0gJyc7XHJcbiAgICB0aGlzLnVwbG9hZGVkRmlsZSA9ICcnO1xyXG4gICAgdGhpcy51c2VyRm9ybS5jb250cm9sc1sndXNlcm5hbWUnXS5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWydlbWFpbCddLmRpc2FibGUoKTtcclxuICB9XHJcblxyXG4gIHZhbGlkYXRlSW1hZ2UoZmlsZTogYW55KSB7XHJcbiAgICBjb25zdCBmaWxlU2l6ZSA9IE51bWJlcihmaWxlWzBdLnNpemUpIC8gMTAyNDtcclxuICAgIGNvbnN0IGZpbGV0eXBlID0gZmlsZVswXS50eXBlLnJlcGxhY2UoJ2ltYWdlLycsICcnKTtcclxuICAgIGlmIChmaWxldHlwZSA9PT0gJ2pwZycgfHwgZmlsZXR5cGUgPT09ICdqcGVnJyB8fCBmaWxldHlwZSA9PT0gJ3BuZycgfHwgZmlsZXR5cGUgPT09ICdnaWYnKSB7XHJcbiAgICAgIGlmIChmaWxlU2l6ZSA8IDEwMCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICdJbWFnZSBzaXplIGV4Y2VlZHMgMTAwIEtCJztcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdGaWxlIGlzIGJpZ2dlciB0aGFuIDEwMCBLQicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJyc7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oYCR7ZmlsZXR5cGV9IGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkYCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50OiBFdmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RQb2xpY3lHcm91cChldmVudDphbnkpIHtcclxuICAgIGxldCBjdXJyZW50U2VsZWN0aW9ucyA9IGV2ZW50LnZhbHVlO1xyXG4gICAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkID0gdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzOyBcclxuXHJcbiAgICAvLyBpZi1jb25kaXRpb24gc2lnbmlmaWVzIHNlbGVjdC1hbGwgb3IgZGUtc2VsZWN0IG11bHRpcGxlIHZhbHVlcyBhdCBhIHRpbWVcclxuICAgIGlmKCEoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2l0ZW1WYWx1ZScpICYmIGV2ZW50Lml0ZW1WYWx1ZSkpe1xyXG4gICAgICAvLyBzZWxlY3QtYWxsIG9yIGRlLXNlbGVjdCBhbGwgYWN0aW9uIFxyXG4gICAgICBsZXQgZGVTZWxlY3RBbGxQb2xpY3lHcm91cHMgPSBmYWxzZTtcclxuICAgICAgbGV0IHNlbGVjdEFsbFBvbGljeUdyb3VwcyA9IGZhbHNlOyBcclxuXHJcbiAgICAgICAvL0VkZ2UgQ2FzZSAxOiBzZWxlY3QtYWxsIHBvbGljeWdyb3VwcyBhY3Rpb24gY3JpdGVyaWEgd2l0aCBubyBmaWx0ZXJzIGFwcGxpZWQgLT4gQWxsIFBHcyBpbiB0aGUgZHJvcGRvd24gaXMgc2VsZWN0ZWRcclxuICAgICAgIGlmKGN1cnJlbnRTZWxlY3Rpb25zLmxlbmd0aCA9PT0gdGhpcy5wb2xpY3lHcm91cExpc3QubGVuZ3RoKXtcclxuICAgICAgICBzZWxlY3RBbGxQb2xpY3lHcm91cHMgPSB0cnVlOyBcclxuICAgICAgfSBcclxuXHJcbiAgICAgIC8vRWRnZSBDYXNlIDI6IGRlLXNlbGVjdC1hbGwgcG9saWN5Z3JvdXBzIHdpdGggbm8gZmlsdGVycyBhcHBsaWVkIC0+IEFsbCBQR3MgaW4gZHJvcGRvd24gaXMgZGUtc2VsZWN0ZWQgYW5kIG9ubHkgcm9sZS1iYXNlZCBQR3MgcmVtYWluXHJcbiAgICAgIGlmKGN1cnJlbnRTZWxlY3Rpb25zLmxlbmd0aCA9PT0gdGhpcy5yb2xlUG9saWN5R3JvdXBzLmxlbmd0aCAmJlxyXG4gICAgICAgIHRoaXMucm9sZVBvbGljeUdyb3Vwcy5ldmVyeShyb2xlUG9saWN5ID0+IFxyXG4gICAgICAgICAgY3VycmVudFNlbGVjdGlvbnMuc29tZShzZWxlY3Rpb24gPT4gc2VsZWN0aW9uLmlkID09PSByb2xlUG9saWN5LmlkKSkpe1xyXG4gICAgICAgICAgICBkZVNlbGVjdEFsbFBvbGljeUdyb3VwcyA9IHRydWU7IFxyXG4gICAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy9JZiBFZGdlIENhc2UgMSBvciBFZGdlIENhc2UgMiBoYXBwZW4sIHRoaXMuZmlsdGVyVGV4dCBzaG91bGQgYmUgc2V0IHRvICcnXHJcbiAgICAgIGlmKHNlbGVjdEFsbFBvbGljeUdyb3VwcyB8fCBkZVNlbGVjdEFsbFBvbGljeUdyb3Vwcyl7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gJyc7IFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL0VkZ2UgQ2FzZSAzOiBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkIGFuZCBzZWxlY3QtYWxsIG9yIGRlLXNlbGVjdC1hbGwgUEdzIGluIGZpbHRlcmVkIHZpZXcgXHJcbiAgICAgIGlmKHRoaXMuZmlsdGVyVGV4dCAmJiB0aGlzLmZpbHRlclRleHQgIT09ICcnKXtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZEl0ZW1JZHMgPSB0aGlzLmZpbHRlcmVkSXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5pZCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgLy9FZGdlIENhc2UgMy4xIDogRGVzZWxlY3QtYWxsIGluIGZpbHRlcmVkIHZpZXdcclxuICAgICAgICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IHByZXZpb3VzbHlTZWxlY3RlZC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gIWZpbHRlcmVkSXRlbUlkcy5pbmNsdWRlcyhpdGVtLmlkKSk7XHJcbiAgICAgICAgICBjdXJyZW50U2VsZWN0aW9ucyA9IHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwczsgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vRWRnZSBDYXNlIDMuMiA6U2VsZWN0LWFsbCBpbiBmaWx0ZXJlZCB2aWV3XHJcbiAgICAgICAgICBjb25zdCBuZXdTZWxlY3Rpb25zID0gdGhpcy5maWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbTogYW55KSA9PiAhcHJldmlvdXNseVNlbGVjdGVkLnNvbWUoKHByZXZJdGVtOiBhbnkpID0+IHByZXZJdGVtLmlkID09PSBpdGVtLmlkKSk7XHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHMgPSBbLi4ucHJldmlvdXNseVNlbGVjdGVkLCAuLi5uZXdTZWxlY3Rpb25zXTtcclxuICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb25zID0gdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzOyBcclxuICAgICAgICB9XHJcbiAgICAgIH0gXHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbnModGhpcy51c2VyRm9ybS52YWx1ZS51c2Vycm9sZXMsIGN1cnJlbnRTZWxlY3Rpb25zKTtcclxuICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gY3VycmVudFNlbGVjdGlvbnMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2VsZWN0aW9ucyhyb2xlSWQsIGN1cnJlbnRTZWxlY3Rpb25zKXtcclxuICAgIHRoaXMucG9saWN5R3JvdXBMaXN0LmZvckVhY2gocGcgPT4gcGdbJ2Rpc2FibGVkJ10gPSBmYWxzZSk7XHJcbiAgICBpZiAoIXJvbGVJZCkge1xyXG4gICAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgICB1c2VycG9saWN5Z3JvdXBzOiBbXSxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudXNlclNlcnZpY2UuZ2V0Um9sZUJ5SWQocm9sZUlkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICAgIHRoaXMucm9sZVBvbGljeUdyb3VwcyA9IHJlc1snZGF0YSddLnBvbGljeUdyb3Vwcy5zb3J0KChhLCBiKSA9PiBhLnBvbGljeWdyb3VwbmFtZS5sb2NhbGVDb21wYXJlKGIucG9saWN5Z3JvdXBuYW1lKSk7XHJcbiAgICAgICAgICBjb25zdCBQR1MgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cHNcclxuICAgICAgICAgICAgLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtKVxyXG4gICAgICAgICAgICAubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfSkgfHwgW11cclxuICAgICAgICAgIGNvbnN0IGFyciA9IFtdO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5wb2xpY3lHcm91cExpc3Q7XHJcbiAgICAgICAgICBQR1MubWFwKChwZzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBnRXhpc3RzID0gbGlzdC5maWx0ZXIoKGYpID0+IGYuaWQgPT09IHBnLmlkKVxyXG4gICAgICAgICAgICBpZiAocGdFeGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgYXJyLnB1c2gocGdFeGlzdHNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGFycik7IFxyXG4gICAgICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgICAgICAgdXNlcnBvbGljeWdyb3VwczogYXJyXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgY29uc3Qgcm9sZVBHcyA9IHRoaXMudXNlckZvcm0udmFsdWUudXNlcnBvbGljeWdyb3Vwcy5tYXAoKHIpID0+IHIuaWQpO1xyXG4gICAgICAgICAgY29uc3QgaW5jbHVkZWRJbmRleGVzID0gW107XHJcbiAgICAgICAgICBjb25zdCBleGNsdWRlZEluZGV4ZXMgPSBbXTtcclxuICAgICAgICAgIHRoaXMucG9saWN5R3JvdXBMaXN0LmZvckVhY2goKHBnLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocm9sZVBHcy5pbmNsdWRlcyhwZy5pZCkpIHtcclxuICAgICAgICAgICAgICBpbmNsdWRlZEluZGV4ZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZXhjbHVkZWRJbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnN0IHJlb3JkZXJlZExpc3QgPSBpbmNsdWRlZEluZGV4ZXMubWFwKGluZGV4ID0+IHRoaXMucG9saWN5R3JvdXBMaXN0W2luZGV4XSkuY29uY2F0KGV4Y2x1ZGVkSW5kZXhlcy5tYXAoaW5kZXggPT4gdGhpcy5wb2xpY3lHcm91cExpc3RbaW5kZXhdKSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZW9yZGVyZWRMaXN0LCBcInJlb3JkZXJcIik7XHJcbiAgICAgICAgICByZW9yZGVyZWRMaXN0LmZvckVhY2gocGcgPT4ge1xyXG4gICAgICAgICAgICBpZiAocm9sZVBHcy5pbmNsdWRlcyhwZy5pZCkpIHtcclxuICAgICAgICAgICAgICBwZ1snZGlzYWJsZWQnXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QgPSByZW9yZGVyZWRMaXN0O1xyXG4gICAgICAgICAgY29uc3QgYWxsUG9saWN5R3JvdXBzID0gdGhpcy51c2VyRm9ybS52YWx1ZS51c2VycG9saWN5Z3JvdXBzLmNvbmNhdChjdXJyZW50U2VsZWN0aW9ucyk7XHJcbiAgICAgICAgICBjb25zdCB1bmlxdWVQb2xpY3lHcm91cHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWxsUG9saWN5R3JvdXBzKSk7XHJcbiAgICAgICAgICB0aGlzLnVzZXJGb3JtLnBhdGNoVmFsdWUoeyB1c2VycG9saWN5Z3JvdXBzOiB1bmlxdWVQb2xpY3lHcm91cHMgfSk7XHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHMgPSB1bmlxdWVQb2xpY3lHcm91cHM7IFxyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubGVuZ3RoO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0sXHJcbiAgICAgIChfZXJyOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdGYWlsZWQgdG8gRmV0Y2ggUG9saWN5IEdyb3VwcycpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb25QYWdlTmFtZUlucHV0KGV2ZW50OiBLZXlib2FyZEV2ZW50LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICBjb25zdCBlbmRQb3NpdGlvbiA9IGlucHV0LnNlbGVjdGlvbkVuZDtcclxuICAgIGNvbnN0IHBhZ2VuYW1lQ29udHJvbCA9IHRoaXMudXNlckZvcm0uZ2V0KG5hbWUpO1xyXG4gICAgaWYgKHBhZ2VuYW1lQ29udHJvbC52YWx1ZSkge1xyXG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHBhZ2VuYW1lQ29udHJvbC52YWx1ZVxyXG4gICAgICAgIC5zcGxpdCgnICcpXHJcbiAgICAgICAgLm1hcCh3b3JkID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxyXG4gICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgIHBhZ2VuYW1lQ29udHJvbC5wYXRjaFZhbHVlKG5ld1ZhbHVlLCB7IGVtaXRFdmVudDogZmFsc2UgfSk7XHJcbiAgICAgIC8vIFJlc3RvcmUgY3Vyc29yIHBvc2l0aW9uXHJcbiAgICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgb25GaWx0ZXJQb2xpY3lHcm91cChldmVudDphbnkpe1xyXG4gICAgdGhpcy5maWx0ZXJUZXh0ID0gZXZlbnQuZmlsdGVyOyBcclxuICAgIHRoaXMuZmlsdGVyZWRJdGVtcyA9IHRoaXMucG9saWN5R3JvdXBMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0ucG9saWN5Z3JvdXBuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5maWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCkpKTtcclxuICB9XHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBjbGFzcz1cInBlcm1pc3Npb25cIj5cclxuICA8ZGl2IGNsYXNzPVwicm93XCIgW2Zvcm1Hcm91cF09XCJ1c2VyRm9ybVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC02IGNvbC0xMlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IHB5LTIgcHgtMCBweC1zbS0wXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgc2hvdyBhY3RpdmVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGJnaWNvbnNlYXJjaCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicC1pbnB1dC1pY29uLXJpZ2h0IHctMTAwXCI+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS10aW1lcy1jaXJjbGVcIiAoY2xpY2spPVwiY2xlYXJTZWFyY2goJGV2ZW50KVwiPjwvaT5cclxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9TRUFSQ0hfQllfTkFNRVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IFVzZXIgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIChrZXl1cCk9XCJzZWFyY2hVc2VyKCRldmVudClcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIG1sLTJcIiAoY2xpY2spPVwib25DbGlja0FkZFVzZXIoKVwiPkFkZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8IS0tIE1vZGlmaWVkIGxpbmUgLS0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInVzZXJhY2Vzc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGgtMTAwIHctMTAwIG5nLXN0YXItaW5zZXJ0ZWRcIlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwiIWZpbHRlcmVkVXNlckxpc3QubGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgPHA+Tm8gUmVjb3JkIEZvdW5kPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgaXRlbSBvZiBmaWx0ZXJlZFVzZXJMaXN0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB1c2VyZGF0YSBhbGlnbi1pdGVtcy1jZW50ZXJcIiAoY2xpY2spPVwiZ2V0VXNlckluZm8oaXRlbSlcIlxyXG4gICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieyBhY3RpdmU6IGl0ZW0uaWQgPT09IHVzZXJpZCB9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbWcgKm5nSWY9XCIhaXRlbT8uYWRkaXRpb25hbGluZm8/LnRodW1ibmFpbD8udXJsXCIgc3JjPVwiYXNzZXRzL2ltYWdlcy91c2VyLWVtcHR5LnBuZ1wiIGFsdD1cInVzZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidXNlcmVtcHR5IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8aW1nICpuZ0lmPVwiaXRlbT8uYWRkaXRpb25hbGluZm8/LnRodW1ibmFpbD8udXJsXCIgW3NyY109XCJpdGVtPy5hZGRpdGlvbmFsaW5mbz8udGh1bWJuYWlsPy51cmxcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cInVzZXJcIiBjbGFzcz1cInVzZXJlbXB0eSBtci0yXCIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVyZmxvd190eHQgdXNlckluZm9yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZXVzZXJcIj57eyBpdGVtLmZpcnN0bmFtZSArICcgJyArIGl0ZW0ubGFzdG5hbWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlbWFpbHVzZXJcIj57eyBpdGVtLmVtYWlsIH19PC9zcGFuPiA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9jay1pY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyaWdodC1pY29uc1wiICpuZ0lmPVwiaXRlbT8uaXNsb2NrZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWxvY2sgbXItMlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIChjbGljayk9XCJzdG9wUHJvcGFnYXRpb24oJGV2ZW50KVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmlnaHQtaWNvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgKGNsaWNrKT1cImRlbGV0ZSgkZXZlbnQsIGl0ZW0uaWQpXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKnNob3dGaWVsZD1cIidTRVRUSU5HU19VU1JfREVMRVRFX1VTRVInXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1sZy04IGNvbC1tZC02IGNvbC0xMiB1c2VyLXJpZ2h0IHNldHRpbmctdGFiIG10LTJcIj5cclxuICAgICAgPHAtY2FyZCBjbGFzcz1cInJiYWMtY2FyZCBoLTEwMFwiIFtzdHlsZV09XCJ7IHdpZHRoOiAnMTAwJScgfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdHJpcF9oZWFkIHRvZ2dsZWxlZnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVwb3J0X2hlYWQgZm9udC13ZWlnaHQtYm9sZFwiPlBlcnNvbmFsIERldGFpbHM8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCByb3dcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImZuYW1lXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkZpcnN0IE5hbWVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJmbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBGaXJzdCBOYW1lXCIgZm9ybUNvbnRyb2xOYW1lPVwiZmlyc3RuYW1lXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9GSVJTVF9OQU1FXCIgYXJpYS1kZXNjcmliZWRieT1cImZuYW1lXCIgcElucHV0VGV4dFxyXG4gICAgICAgICAgICAgIChrZXl1cCk9XCJvblBhZ2VOYW1lSW5wdXQoJGV2ZW50LCAnZmlyc3RuYW1lJylcIlxyXG4gICAgICAgICAgICAgIChpbnB1dCk9XCJvbklucHV0KCRldmVudCwgJ3VzZXJuYW1lJywgJ0ZpcnN0IE5hbWUnLCB0cnVlKVwiIC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uRXJyb3JzWydGaXJzdCBOYW1lJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snRmlyc3QgTmFtZSddfX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhdmFsaWRhdGlvbkVycm9yc1snRmlyc3QgTmFtZSddICYmIGZvcm1WYWxpZGF0ZVsnZmlyc3RuYW1lJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydmaXJzdG5hbWUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5GaXJzdCBOYW1lIGlzIHJlcXVpcmVkIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibW5hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+TWlkZGxlIE5hbWUgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwibW5hbWVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgTWlkZGxlIE5hbWVcIiBmb3JtQ29udHJvbE5hbWU9XCJtaWRkbGVuYW1lXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9NSURETEVfTkFNRVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJtbmFtZVwiIHBJbnB1dFRleHRcclxuICAgICAgICAgICAgICAoa2V5dXApPVwib25QYWdlTmFtZUlucHV0KCRldmVudCwgJ21pZGRsZW5hbWUnKVwiXHJcbiAgICAgICAgICAgICAgKGlucHV0KT1cIm9uSW5wdXQoJGV2ZW50LCAndXNlcm5hbWUnLCAnTWlkZGxlIE5hbWUnLCBmYWxzZSlcIiAvPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidmFsaWRhdGlvbkVycm9yc1snTWlkZGxlIE5hbWUnXVwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+e3t2YWxpZGF0aW9uRXJyb3JzWydNaWRkbGUgTmFtZSddfX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxOYW1lXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkxhc3QgTmFtZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cImxOYW1lXCIgdHlwZT1cInRleHRcIiBmb3JtQ29udHJvbE5hbWU9XCJsYXN0bmFtZVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgTGFzdCBOYW1lXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9MQVNUX05BTUVcIiBwSW5wdXRUZXh0IChrZXl1cCk9XCJvblBhZ2VOYW1lSW5wdXQoJGV2ZW50LCAnbGFzdG5hbWUnKVwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImxOYW1lXCIgKGlucHV0KT1cIm9uSW5wdXQoJGV2ZW50LCAndXNlcm5hbWUnLCAnTGFzdCBOYW1lJywgdHJ1ZSlcIiAvPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidmFsaWRhdGlvbkVycm9yc1snTGFzdCBOYW1lJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snTGFzdCBOYW1lJ119fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiF2YWxpZGF0aW9uRXJyb3JzWydMYXN0IE5hbWUnXSAmJiBmb3JtVmFsaWRhdGVbJ2xhc3RuYW1lJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydsYXN0bmFtZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPkxhc3QgTmFtZSBpcyByZXF1aXJlZCA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1c2VyTmFtZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5Vc2VyIE5hbWVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJ1c2VyTmFtZVwiIHR5cGU9XCJ0ZXh0XCIgZm9ybUNvbnRyb2xOYW1lPVwidXNlcm5hbWVcIiBwbGFjZWhvbGRlcj1cIkVudGVyIFVzZXIgTmFtZVwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInVzZXJOYW1lXCIgZmllbGRLZXk9XCJTRVRUSU5HU19VU1JfVVNFUk5BTUVcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3VzZXJuYW1lJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3VzZXJuYW1lJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9ja1wiPlVzZXIgTmFtZSBpcyByZXF1aXJlZCA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInVzZXJzRW1haWxpZFwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5FbWFpbCBJRFxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cInVzZXJzRW1haWxpZFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX0VNQUlMXCIgZm9ybUNvbnRyb2xOYW1lPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkVudGVyIEVtYWlsIElEXCJcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIChpbnB1dCk9XCJvbklucHV0KCRldmVudCwgJ2VtYWlsJywgJ0VtYWlsIElEJywgdHJ1ZSlcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uRXJyb3JzWydFbWFpbCBJRCddXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj57e3ZhbGlkYXRpb25FcnJvcnNbJ0VtYWlsIElEJ119fTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbGlkYXRpb25FcnJvcnNbJ0VtYWlsIElEJ10gJiYgZm9ybVZhbGlkYXRlWydlbWFpbCddLmVycm9ycyAmJiBmb3JtU3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsnZW1haWwnXS5lcnJvcnNbJ3JlcXVpcmVkJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPkVtYWlsIElEIGlzIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8IS0tIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2VtYWlsJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2VtYWlsJ10uZXJyb3JzWydwYXR0ZXJuJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2tcIj5WYWxpZCBlbWFpbCBpcyByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgYXJpYS1sYWJlbGxlZGJ5PVwicm9sZVwiIGZvcj1cInJvbGVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+Um9sZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIGlucHV0SWQ9XCJyb2xlXCIgW29wdGlvbnNdPVwidXNlclJvbGVzXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBSb2xlXCIgZm9ybUNvbnRyb2xOYW1lPVwidXNlcnJvbGVzXCJcclxuICAgICAgICAgICAgICBzdHlsZUNsYXNzPVwidy0xMDBcIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiIFtmaWx0ZXJdPVwidHJ1ZVwiIFtzaG93Q2xlYXJdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJpZFwiIGFyaWFGaWx0ZXJMYWJlbD1cIm51bGxcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9ST0xFXCJcclxuICAgICAgICAgICAgICAob25DaGFuZ2UpPVwiZ2V0Um9sZVBvbGljeUdyb3VwcygkZXZlbnQudmFsdWUpXCI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBwVG9vbHRpcD1cInt7aXRlbT8ubmFtZX19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCIgY2xhc3M9XCJ0ZXh0LXRydW5jYXRlXCI+IHt7IGl0ZW0/Lm5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtb2JqZWN0IHBUZW1wbGF0ZT1cIml0ZW1cIj5cclxuICAgICAgICAgICAgICAgIHt7IG9iamVjdC5uYW1lIH19XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWyd1c2Vycm9sZXMnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3VzZXJyb2xlcyddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPlJvbGUgaXMgcmVxdWlyZWQgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxwLWFjY29yZGlvbiBjbGFzcz1cInctZnVsbCBwb2xpY3lncm91cC1hY2NvcmRpb25cIiBpY29uUG9zPVwiZW5kVmFsXCI+XHJcbiAgICAgICAgICAgICAgPHAtYWNjb3JkaW9uVGFiPlxyXG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyIGhlYWQtdGV4dCBnYXAtMiB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZFwiPjxsYWJlbCBmb3I9XCJwR3JvdXBcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIG1iLTBcIj5BZGRpdGlvbmFsIFBvbGljeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBHcm91cHM8L2xhYmVsPiA8c3BhbiAqbmdJZj1cInBvbGljeUdyb3Vwc0xlbmd0aCA+IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInBnLWNvdW50IG1sLTJcIj57e3BvbGljeUdyb3Vwc0xlbmd0aH19PC9zcGFuPiA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCBbb3B0aW9uc109XCJwb2xpY3lHcm91cExpc3RcIiBmb3JtQ29udHJvbE5hbWU9XCJ1c2VycG9saWN5Z3JvdXBzXCIgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0TGFiZWw9XCJTZWxlY3QgUG9saWN5IEdyb3Vwc1wiIG9wdGlvbkxhYmVsPVwicG9saWN5Z3JvdXBuYW1lXCIgaW5wdXRJZD1cInBHcm91cFwiXHJcbiAgICAgICAgICAgICAgICAgIGFyaWFGaWx0ZXJMYWJlbD1cIm51bGxcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9QT0xJQ1lfR1JPVVBcIiAob25DaGFuZ2UpPVwic2VsZWN0UG9saWN5R3JvdXAoJGV2ZW50KVwiIFxyXG4gICAgICAgICAgICAgICAgICAob25GaWx0ZXIpPVwib25GaWx0ZXJQb2xpY3lHcm91cCgkZXZlbnQpXCIgZGlzcGxheT1cImNoaXBcIiBzdHlsZUNsYXNzPVwicG9saWN5Z3JvdXAtdjJcIj5cclxuICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC12YWx1ZSBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIHZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICNzZWxlY3RlZHBnIGNsYXNzPVwicC1tdWx0aXNlbGVjdC10b2tlblwiIFtuZ0NsYXNzXT1cIm9wdGlvbi5kaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJyBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tvcHRpb24uaWR9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG9saWN5Z3JvdXBuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBvcHRpb24ucG9saWN5Z3JvdXBuYW1lIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZXBnIG1sLTIgYmFkZ2UgYmFkZ2UtcHJpbWFyeVwiICpuZ0lmPVwib3B0aW9uLmRpc2FibGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cInBpIHBpLXRpbWVzLWNpcmNsZSBtbC0yIGNsZWFyLWljb24gcmlnaHQtc2VjXCIgKm5nSWY9XCIhb3B0aW9uLmRpc2FibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIiAoY2xpY2spPVwicmVtb3ZlVmFsdWUoJGV2ZW50LCBzZWxlY3RlZHBnKVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDBcIj5TZWxlY3QgUG9saWN5IEdyb3Vwc1xyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LXBnIHBUZW1wbGF0ZT1cIml0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBmbGV4LXJvdyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBnYXAtMiBkaXNhYmxlZC1saXN0IHctMTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pnt7IHBnLm5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZXBnIG1sLTIgYmFkZ2UgYmFkZ2UtcHJpbWFyeVwiICpuZ0lmPVwicGcuZGlzYWJsZWRcIj5Sb2xlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPC9wLW11bHRpU2VsZWN0PlxyXG4gICAgICAgICAgICAgIDwvcC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgIDwvcC1hY2NvcmRpb24+XHJcblxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCByb3dcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1tZC0xMiBjb2wtMTIgbWItMSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgKm5nSWY9XCIhc2VuZENyZWRlbnRpYWxzXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWxlXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXQtMiBtYi0yIHByb2ZpbGUgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbiBtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGFjdGlvbi1idG4gdXBsb2FkIG1yLTJcIj5jbG91ZF91cGxvYWQ8L3NwYW4+QWRkXHJcbiAgICAgICAgICAgICAgSW1hZ2U8L2xhYmVsPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb24gbWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCB0ZXh0LW11dGVkIGFjdGlvbi1idG4gbXgtMlwiXHJcbiAgICAgICAgICAgICAgcFRvb2x0aXA9XCJTdXBwb3J0ZWQgZmlsZSBmb3JtYXRzIGFyZSBKUEcsIFBORywgSlBFRyBhbmQgR0lGXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7XCI+XHJcbiAgICAgICAgICAgICAgSW5mb1xyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIChjaGFuZ2UpPVwiaGFuZGxlRmlsZUlucHV0KCRldmVudClcIiBpZD1cImZpbGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPVwidmlzaWJpbGl0eTogaGlkZGVuOyBkaXNwbGF5OiBub25lXCIgLz5cclxuICAgICAgICAgICAgPGltZyAqbmdJZj1cInVzZXJGb3JtLmNvbnRyb2xzWyd0aHVtYm5haWwnXS52YWx1ZVwiIFtzcmNdPVwidXNlckZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnZhbHVlXCIgYWx0PVwidXNlclwiXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ1c2VyZW1wdHkgbXItMFwiIC8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cIndhcm5pbmcgbWwtMiBtYi1tZC0wXCJcclxuICAgICAgICAgICAgICBbbmdTdHlsZV09XCJ7IGNvbG9yOiBpbWFnZUluZm9ybWF0aW9uID09PSAnSW1hZ2Ugc2l6ZSBleGNlZWRzIDEwMCBLQicgPyAnI2ZjMDMwMycgOiAnIzAwN2NjMyd9XCI+e3tcclxuICAgICAgICAgICAgICBpbWFnZUluZm9ybWF0aW9uIH19PC9sYWJlbD4gPGVtIGNsYXNzPVwicGkgcGktdHJhc2ggbWwtMlwiIHBUb29sdGlwPVwiUmVtb3ZlIEltYWdlXCJcclxuICAgICAgICAgICAgICAqbmdJZj1cInVzZXJGb3JtLmNvbnRyb2xzWyd0aHVtYm5haWwnXS52YWx1ZSAmJiBpbWFnZUluZm9ybWF0aW9uICE9PSAnSW1hZ2Ugc2l6ZSBleGNlZWRzIDEwMCBLQidcIlxyXG4gICAgICAgICAgICAgIChjbGljayk9XCJvbkNsaWNrUmVtb3ZlUHJvZmlsZSgpXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7XCI+PC9lbT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCByb3dcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQtY2hlY2tib3ggc2VuZC1jcmVkZW50aWFsc1wiICpuZ0lmPVwic2VuZENyZWRlbnRpYWxzXCI+XHJcbiAgICAgICAgICAgICAgPHAtY2hlY2tib3ggY2xhc3M9XCJwLW0tMSBwLW0tbGctMlwiIGlucHV0SWQ9XCJiaW5hcnlcIiBbYmluYXJ5XT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19VU1JfRU1BSUxfVE9fQ1VSUkVOVF9VU0VSXCIgZm9ybUNvbnRyb2xOYW1lPVwiZW1haWx0b2N1cnJlbnR1c2VyXCI+XHJcbiAgICAgICAgICAgICAgPC9wLWNoZWNrYm94PlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJiaW5hcnlcIj5TZW5kIENyZWRlbnRpYWxzIHRvIEN1cnJlbnQgTG9nZ2VkIGluIFVzZXI8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZC1jaGVja2JveCBzZW5kLWNyZWRlbnRpYWxzXCIgKm5nSWY9XCIhc2VuZENyZWRlbnRpYWxzXCI+XHJcbiAgICAgICAgICAgICAgPHAtY2hlY2tib3ggY2xhc3M9XCJwLW0tMSBwLW0tbGctMlwiIGlucHV0SWQ9XCJpc2VuYWJsZWRcIiBbYmluYXJ5XT1cInRydWVcIiBmb3JtQ29udHJvbE5hbWU9XCJpc2VuYWJsZWRcIj5cclxuICAgICAgICAgICAgICA8L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImlzZW5hYmxlZFwiPkFjdGl2ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkLWNoZWNrYm94IHNlbmQtY3JlZGVudGlhbHNcIiAqbmdJZj1cIiFzZW5kQ3JlZGVudGlhbHNcIj5cclxuICAgICAgICAgICAgICA8cC1jaGVja2JveCBjbGFzcz1cInAtbS0xIHAtbS1sZy0yXCIgaW5wdXRJZD1cImlzbG9ja2VkXCIgW2JpbmFyeV09XCJ0cnVlXCIgZm9ybUNvbnRyb2xOYW1lPVwiaXNsb2NrZWRcIj5cclxuICAgICAgICAgICAgICA8L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImlzbG9ja2VkXCI+TG9ja2VkPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMiBtYi0wXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gZmllbGRLZXk9XCJTRVRUSU5HU19VU1JfQUREX1VQREFURVwiIGNsYXNzPVwicHVsbC1yaWdodCBtci0yIG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImFkZFVzZXIoKVwiPlxyXG4gICAgICAgICAgICAgIHt7IHVzZXJpZCA/ICdVcGRhdGUgVXNlcicgOiAnQWRkIFVzZXInIH19XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX0NBTkNFTFwiIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIlxyXG4gICAgICAgICAgICAgIChjbGljayk9XCJjYW5jZWxVc2VyKClcIiBbZGlzYWJsZWRdPVwiIWVuYWJsZUJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgIENsZWFyXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvcC1jYXJkPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIkRlbGV0ZXVzZXJcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHdhbnQgdG8gRGVsZXRlIFVzZXI/PC9wPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gZGVsZXRlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiAoY2xpY2spPVwiZGVsZXRlVXNlcigpXCI+XHJcbiAgICAgICAgICAgIERlbGV0ZVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJEZWxldGVQcm9maWxlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cclxuICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgIDxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIFByb2ZpbGUgSW1hZ2U/PC9wPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gZGVsZXRlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwicmVtb3ZlVGh1bWJuYWlsKClcIj5cclxuICAgICAgICAgICAgRGVsZXRlXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXX0=