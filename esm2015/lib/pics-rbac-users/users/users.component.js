import { Component, Input, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { Subject } from 'rxjs';
import { AppConstants } from '../@core/constants/app-constants';
import { RBACINFO } from '../@core/urls/users-url.config';
import { MultiSelect } from 'primeng/multiselect';
import * as i0 from "@angular/core";
import * as i1 from "../@core/service/user-org.service";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/alert.service";
import * as i4 from "../@core/service/data-store.service";
import * as i5 from "../@shared/alert/alert.component";
import * as i6 from "primeng/card";
import * as i7 from "primeng/dropdown";
import * as i8 from "primeng/accordion";
import * as i9 from "primeng/multiselect";
import * as i10 from "primeng/checkbox";
import * as i11 from "../@core/directives/permission.directive";
import * as i12 from "primeng/inputtext";
import * as i13 from "@angular/common";
import * as i14 from "primeng/api";
import * as i15 from "primeng/tooltip";
export class UsersComponent {
    constructor(userService, fb, alertService, _storeservice) {
        this.userService = userService;
        this.fb = fb;
        this.alertService = alertService;
        this._storeservice = _storeservice;
        this.RBACORG = new RBACINFO();
        this.userList = [];
        this.providerList = [];
        this.filteredUserList = [];
        this.selectedRoles = [];
        this.selectedTeams = [];
        this.userSearch$ = new Subject();
        this.currentDate = new Date();
        this.rolePolicyGroups = [];
        this.userPolicyGroups = [];
        this.validationErrors = {};
        this.originalPolicyGroupList = [];
        this.previousSelectedPolicyGroups = [];
        this.filteredItems = [];
        this.formSubmit = false;
        this.providerAccount = false;
        this.checked = true;
        this.sendCredentials = true;
        this.imageInformation = '';
        this.initializeForm();
    }
    ngOnInit() {
        this._storeservice.currentStore.subscribe((res) => {
            if (res) {
                this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
                this.httpService = res['HTTPSERVICE'];
            }
        });
        if (this.RBACORG['orgID']) {
            this.orgId = parseInt(this.RBACORG['orgID']);
            if (this.orgId) {
                this.getUserList();
                this.getRolesList();
                this.getPolicyGroupList();
            }
        }
        this.userForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
    }
    isAnyFormControlWithValue() {
        const formValue = this.userForm.value;
        const avoidProperties = ['emailtocurrentuser', 'isenabled', 'providerAccount', 'islocked'];
        for (const key in formValue) {
            if (formValue.hasOwnProperty(key) && !avoidProperties.includes(key) && formValue[key]) {
                return true;
            }
        }
        return false;
    }
    initializeForm() {
        this.userForm = this.fb.group({
            firstname: ['', [Validators.required, Validators.pattern(AppConstants.regexUsername)]],
            middlename: [''],
            lastname: ['', [Validators.required, Validators.pattern(AppConstants.regexUsername)]],
            username: [''],
            // dob: [''],
            email: ['', [Validators.required, Validators.pattern(AppConstants.regexEmail)]],
            userroles: ['', Validators.required],
            userteams: [''],
            userpolicygroups: [''],
            organizationid: [''],
            emailtocurrentuser: false,
            isenabled: [true],
            providerId: [''],
            providerAccount: false,
            thumbnail: [''],
            islocked: [false]
        });
    }
    get formValidate() {
        return this.userForm.controls;
    }
    onInput(event, fieldtype, label, required) {
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
    }
    getUserList(_key) {
        this.userService.getAllUserOrgList(this.orgId).subscribe((res) => {
            this.filteredUserList = [];
            this.userList = res.data;
            this.filteredUserList = this.userList;
        }, (_error) => this.alertService.error(AppConstants.errorMessage));
    }
    getRolesList() {
        this.userService.getAllUserRole(this.orgId).subscribe((res) => {
            this.userRoles = res['data'];
        }, (_error) => this.alertService.error(AppConstants.errorMessage));
    }
    clearSearch(event) {
        const inputElement = document.querySelector('.form-control');
        if (inputElement) {
            inputElement.value = '';
            this.filteredUserList = this.userList;
        }
    }
    getPolicyGroupList(_managementGroupId) {
        this.userService.getOrgPolicyGroupList(this.orgId).subscribe((res) => {
            this.policyGroupList = res['data'].sort((a, b) => a.name.localeCompare(b.name));
        }, (err) => console.log(err));
    }
    addUser() {
        const userData = this.userForm.getRawValue();
        delete userData.thumbnail;
        this.formSubmit = true;
        if (this.userForm.valid) {
            const rolePolicyGroupsIds = new Set(this.rolePolicyGroups.map(item => item.id));
            const userPolicyGroupsIds = new Set(this.userPolicyGroups.map(item => item.id));
            const combinedPolicyGroupsIds = new Set([...rolePolicyGroupsIds, ...userPolicyGroupsIds]);
            const userDataPolicyGroupsIds = new Set(userData.userpolicygroups.map(item => item.id));
            const finalPolicyGroups = [
                ...userData.userpolicygroups.filter(item => !combinedPolicyGroupsIds.has(item.id)),
                ...this.userPolicyGroups
            ].filter(item => userDataPolicyGroupsIds.has(item.id));
            userData.organizationid = this.orgId;
            userData.id = this.userid || 1;
            userData.userteams = userData.userteams || [];
            userData.userroles = [userData.userroles] || [];
            userData.userpolicygroups = finalPolicyGroups;
            userData.emailtocurrentuser = userData.emailtocurrentuser || false;
            userData.username = userData.username || "";
            // userData.dob = new DatePipe('en-US').transform(userData.dob, 'YYYY-MM-dd');
            if (!this.userid) {
                this.userWithOutId(userData);
            }
            else {
                this.userWithID(userData);
            }
        }
    }
    userWithOutId(userData) {
        this.userService.saveUser(userData).subscribe((res) => {
            if (this.providerAccount && this.userForm.controls['providerId'].valid) {
                this.addProviderUser(userData.providerId, res['data']);
            }
            this.cancel(true);
            this.getUserList();
            this.alertService.success('User created successfully');
        }, (error) => {
            if (error.error.message) {
                this.alertService.error(error.error.message);
            }
            else {
                this.alertService.error('Failed to create user');
            }
        });
    }
    userWithID(userData) {
        if (this.uploadedFile) {
            userData.additionalinfo = {
                photo: this.imageData,
                thumbnail: this.imageData
            };
        }
        this.userService.updateUser(userData, this.userid).subscribe(() => {
            this.cancel(false);
            this.getUserList();
            this.getUserInfo(userData);
            this.userForm.controls['username'].disable();
            this.userForm.controls['email'].disable();
            this.alertService.success('User updated successfully');
        }, (err) => {
            if (err.error.message) {
                this.alertService.error(err.error.message);
            }
            else {
                this.alertService.error('Failed to create user');
            }
        });
    }
    mapUserToRole(userId, roleId) {
        const request = {
            userId: userId,
            roleId: roleId
        };
        this.userService.addUserRole(request).subscribe(() => console.log('User mapped to role Successfully'));
    }
    onClickAddUser() {
        this.userForm.reset();
        this.userForm.controls['email'].enable();
        this.initializeForm();
        this.userForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
        this.formSubmit = false;
        this.sendCredentials = true;
        this.userid = '';
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.policyGroupList.map((p) => p.disabled = false);
        this.validationErrors = {};
        this.userForm.get('userpolicygroups').setValue([]);
        this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
        this.enableButton = false;
    }
    cancel(changeFlag) {
        if (!this.userid) {
            this.userForm.reset();
            this.userForm.patchValue({
                isenabled: true,
                islocked: false
            });
            this.validationErrors = {};
            this.policyGroupsLength = 0;
        }
        this.providerAccount = false;
        this.formSubmit = false;
        this.userForm.controls['email'].enable();
        this.userForm.controls['username'].enable();
        if (changeFlag) {
            this.policyGroupList.map((p) => p.disabled = false);
        }
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.validationErrors = {};
    }
    searchUser(event) {
        const value = event.target.value.toLowerCase();
        this.filteredUserList = this.userList.filter(a => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.firstname) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    getUserInfo(user) {
        this.userPolicyGroups = [];
        this.previousSelectedPolicyGroups = [];
        this.validationErrors = {};
        this.formSubmit = false;
        this.sendCredentials = false;
        this.userid = user.id;
        this.userService.getAllUserList(this.userid).subscribe((res) => {
            var _a, _b, _c, _d, _e, _f;
            this.imageInformation = '';
            // this.imageInformation = res.data.additionalinfo?.thumbnail?.fileName?.split('/')[2] || '';
            this.userForm.patchValue({
                firstname: res.data.firstname,
                middlename: res.data.middlename,
                lastname: res.data.lastname,
                username: res.data.username,
                // dob: new Date(res.data.dob),
                email: res.data.email,
                organizationid: res.data.organizationid,
                thumbnail: ((_b = (_a = res.data.additionalinfo) === null || _a === void 0 ? void 0 : _a.thumbnail) === null || _b === void 0 ? void 0 : _b.url) || '',
                isenabled: (_c = res === null || res === void 0 ? void 0 : res.data) === null || _c === void 0 ? void 0 : _c.isenabled,
                islocked: (_d = res === null || res === void 0 ? void 0 : res.data) === null || _d === void 0 ? void 0 : _d.islocked,
                userroles: ((_f = (_e = res === null || res === void 0 ? void 0 : res.data) === null || _e === void 0 ? void 0 : _e.userroles[0]) === null || _f === void 0 ? void 0 : _f.id) || 0,
                userteams: res.data.userteams
                    ? res.data.userteams
                        .filter((item) => item)
                        .map((item) => {
                        return item['id'];
                    })
                    : [],
            });
            const list = this.policyGroupList;
            const UPGs = res.data.policygroups;
            UPGs.forEach(upg => {
                const existingPolicy = list.find(f => f.id === upg.id);
                if (existingPolicy)
                    this.userPolicyGroups.push(existingPolicy);
            });
            this.getRolePolicyGroups(this.userForm.value.userroles);
            this.userForm.controls['email'].disable();
            this.userForm.controls['username'].disable();
            // });
        });
    }
    removeValue(e, item) {
        e.stopPropagation();
        const selectedPGs = this.userForm.value.userpolicygroups;
        const filteredPgs = selectedPGs.filter((s) => s.id !== Number(item.id));
        this.previousSelectedPolicyGroups = filteredPgs;
        this.userForm.patchValue({
            userpolicygroups: filteredPgs
        });
        this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
    }
    getRolePolicyGroups(roleId) {
        this.policyGroupList.forEach(pg => pg['disabled'] = false);
        if (!roleId) {
            this.rolePolicyGroups = [];
            this.userForm.patchValue({
                userpolicygroups: [],
            });
            this.policyGroupsLength = 0;
            return;
        }
        this.userService.getRoleById(roleId).subscribe((res) => {
            if (res) {
                this.rolePolicyGroups = res['data'].policyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const PGS = res['data'].policyGroups
                    .filter((item) => item)
                    .map((item) => {
                    return item;
                }) || [];
                const arr = [];
                const list = this.policyGroupList;
                PGS.map((pg) => {
                    const pgExists = list.filter((f) => f.id === pg.id);
                    if (pgExists.length) {
                        arr.push(pgExists[0]);
                    }
                });
                this.userForm.patchValue({
                    userpolicygroups: arr
                });
                const rolePGs = this.userForm.value.userpolicygroups.map((r) => r.id);
                const includedIndexes = [];
                const excludedIndexes = [];
                this.policyGroupList.forEach((pg, index) => {
                    if (rolePGs.includes(pg.id)) {
                        includedIndexes.push(index);
                    }
                    else {
                        excludedIndexes.push(index);
                    }
                });
                const reorderedList = includedIndexes.map(index => this.policyGroupList[index]).concat(excludedIndexes.map(index => this.policyGroupList[index]));
                console.log(reorderedList, "reorder");
                reorderedList.forEach(pg => {
                    if (rolePGs.includes(pg.id)) {
                        pg['disabled'] = true;
                    }
                });
                this.policyGroupList = reorderedList;
                this.userPolicyGroups = this.userPolicyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const allPolicyGroups = this.userForm.value.userpolicygroups.concat(this.userPolicyGroups);
                const uniquePolicyGroups = Array.from(new Set(allPolicyGroups));
                this.previousSelectedPolicyGroups = uniquePolicyGroups;
                this.userForm.patchValue({ userpolicygroups: uniquePolicyGroups });
                this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
            }
        }, (_err) => this.alertService.error('Failed to Fetch Policy Groups'));
    }
    delete(event, id) {
        event.stopPropagation();
        this.deletedId = id;
        $('#Deleteuser').modal('show');
    }
    deleteUser() {
        this.userService.deleteUser(this.deletedId).subscribe(() => {
            this.cancel(true);
            this.alertService.success('User deleted successfully');
            $('#Deleteuser').modal('hide');
            this.userForm.controls['username'].disable();
            this.userForm.controls['email'].disable();
            this.getUserList();
        }, (_err) => this.alertService.error('Failed to delete User'));
    }
    cancelUser() {
        this.sendCredentials = true;
        this.formSubmit = false;
        this.userForm.reset();
        this.userForm.patchValue({
            isenabled: true,
            islocked: false
        });
        this.userForm.controls['email'].enable();
        this.userForm.controls['username'].enable();
        this.userid = '';
        this.policyGroupList.map((p) => p.disabled = false);
        this.userPolicyGroups = [];
        this.rolePolicyGroups = [];
        this.validationErrors = {};
        this.previousSelectedPolicyGroups = [];
        this.policyGroupsLength = 0;
    }
    activateUser() {
        const userData = this.userForm.getRawValue();
        const body = {
            email: userData.email,
            code: userData.otp
        };
        this.userService.activateUser(body).subscribe((_res) => {
            this.alertService.success('User Activated Successfully');
        }, (_err) => {
            this.alertService.error('User Activation Failed');
        });
    }
    selectProvider(selected) {
        this.providerAccount = selected;
    }
    addProviderUser(providerId, userid) {
        const data = {
            providerId: providerId,
            accountId: userid.toString()
        };
        this.userService.addProviderUser(data).subscribe(() => {
            console.log('Provider User added Successfully');
        }, (_err) => console.log('failed to add Provider user'));
    }
    handleFileInput(fileValue) {
        const target = fileValue.target;
        const file = target.files[0];
        this.uploadedFile = fileValue.target.files[0].name;
        this.imageData = {
            contentType: fileValue.target.files[0].type,
            fileName: `user-profileimage/${this.userid}/${this.uploadedFile.replaceAll(' ', '')}`
        };
        this.imageInformation = '';
        if (this.validateImage(fileValue.target.files)) {
            this.userService.uploadKey(this.imageData).subscribe((res) => {
                this.urlPath = res.data;
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putUpload(this.urlPath, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((_resp) => {
                    this.alertService.success('Profile Image uploaded successfully');
                    const reader = new FileReader();
                    reader.onload = () => {
                        this.userForm.patchValue({ thumbnail: reader.result });
                    };
                    reader.readAsDataURL(file);
                    this.attachType = fileValue.target.files[0].type;
                }, (error) => {
                    if (error.status == 0) {
                        this.alertService.error(AppConstants.errorMessage);
                        this.uploadedFile = '';
                        this.urlPath = '';
                    }
                });
            }, (_error) => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
    }
    onClickRemoveProfile() {
        $('#DeleteProfile').modal('show');
    }
    removeThumbnail() {
        this.cancel(true);
        this.alertService.success('Profile image deleted successfully.');
        $('#DeleteProfile').modal('hide');
        this.userForm.controls['thumbnail'].reset();
        this.imageInformation = '';
        this.imageData = '';
        this.uploadedFile = '';
    }
    validateImage(file) {
        const fileSize = Number(file[0].size) / 1024;
        const filetype = file[0].type.replace('image/', '');
        if (filetype === 'jpg' || filetype === 'jpeg' || filetype === 'png' || filetype === 'gif') {
            if (fileSize < 100) {
                return true;
            }
            else {
                this.imageInformation = 'Image size exceeds 100 KB';
                this.alertService.warn('File is bigger than 100 KB');
                return false;
            }
        }
        else {
            this.imageInformation = '';
            this.alertService.warn(`${filetype} format is not supported`);
            return false;
        }
    }
    stopPropagation(event) {
        event.stopPropagation();
    }
    selectPolicyGroup(event) {
        let currentSelections = event.value;
        const previouslySelected = this.previousSelectedPolicyGroups;
        // if-condition signifies select-all or de-select multiple values at a time
        if (!(event.hasOwnProperty('itemValue') && event.itemValue)) {
            // select-all or de-select all action 
            let deSelectAllPolicyGroups = false;
            let selectAllPolicyGroups = false;
            //Edge Case 1: select-all policygroups action criteria with no filters applied -> All PGs in the dropdown is selected
            if (currentSelections.length === this.policyGroupList.length) {
                selectAllPolicyGroups = true;
            }
            //Edge Case 2: de-select-all policygroups with no filters applied -> All PGs in dropdown is de-selected and only role-based PGs remain
            if (currentSelections.length === this.rolePolicyGroups.length &&
                this.rolePolicyGroups.every(rolePolicy => currentSelections.some(selection => selection.id === rolePolicy.id))) {
                deSelectAllPolicyGroups = true;
            }
            //If Edge Case 1 or Edge Case 2 happen, this.filterText should be set to ''
            if (selectAllPolicyGroups || deSelectAllPolicyGroups) {
                this.filterText = '';
            }
            //Edge Case 3: filters have been applied and select-all or de-select-all PGs in filtered view 
            if (this.filterText && this.filterText !== '') {
                const filteredItemIds = this.filteredItems.map(item => item.id);
                if (currentSelections.length === 0) {
                    //Edge Case 3.1 : Deselect-all in filtered view
                    this.previousSelectedPolicyGroups = previouslySelected.filter((item) => !filteredItemIds.includes(item.id));
                    currentSelections = this.previousSelectedPolicyGroups;
                }
                else {
                    //Edge Case 3.2 :Select-all in filtered view
                    const newSelections = this.filteredItems.filter((item) => !previouslySelected.some((prevItem) => prevItem.id === item.id));
                    this.previousSelectedPolicyGroups = [...previouslySelected, ...newSelections];
                    currentSelections = this.previousSelectedPolicyGroups;
                }
            }
        }
        this.updateSelections(this.userForm.value.userroles, currentSelections);
        this.policyGroupsLength = currentSelections.length;
    }
    updateSelections(roleId, currentSelections) {
        this.policyGroupList.forEach(pg => pg['disabled'] = false);
        if (!roleId) {
            this.rolePolicyGroups = [];
            this.userForm.patchValue({
                userpolicygroups: [],
            });
            return;
        }
        this.userService.getRoleById(roleId).subscribe((res) => {
            if (res) {
                this.rolePolicyGroups = res['data'].policyGroups.sort((a, b) => a.policygroupname.localeCompare(b.policygroupname));
                const PGS = res['data'].policyGroups
                    .filter((item) => item)
                    .map((item) => {
                    return item;
                }) || [];
                const arr = [];
                const list = this.policyGroupList;
                PGS.map((pg) => {
                    const pgExists = list.filter((f) => f.id === pg.id);
                    if (pgExists.length) {
                        arr.push(pgExists[0]);
                    }
                });
                console.log(arr);
                this.userForm.patchValue({
                    userpolicygroups: arr
                });
                const rolePGs = this.userForm.value.userpolicygroups.map((r) => r.id);
                const includedIndexes = [];
                const excludedIndexes = [];
                this.policyGroupList.forEach((pg, index) => {
                    if (rolePGs.includes(pg.id)) {
                        includedIndexes.push(index);
                    }
                    else {
                        excludedIndexes.push(index);
                    }
                });
                const reorderedList = includedIndexes.map(index => this.policyGroupList[index]).concat(excludedIndexes.map(index => this.policyGroupList[index]));
                console.log(reorderedList, "reorder");
                reorderedList.forEach(pg => {
                    if (rolePGs.includes(pg.id)) {
                        pg['disabled'] = true;
                    }
                });
                this.policyGroupList = reorderedList;
                const allPolicyGroups = this.userForm.value.userpolicygroups.concat(currentSelections);
                const uniquePolicyGroups = Array.from(new Set(allPolicyGroups));
                this.userForm.patchValue({ userpolicygroups: uniquePolicyGroups });
                this.previousSelectedPolicyGroups = uniquePolicyGroups;
                this.policyGroupsLength = this.userForm.value.userpolicygroups.length;
            }
        }, (_err) => this.alertService.error('Failed to Fetch Policy Groups'));
    }
    onPageNameInput(event, name) {
        const input = event.target;
        const startPosition = input.selectionStart;
        const endPosition = input.selectionEnd;
        const pagenameControl = this.userForm.get(name);
        if (pagenameControl.value) {
            const newValue = pagenameControl.value
                .split(' ')
                .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                .join(' ');
            pagenameControl.patchValue(newValue, { emitEvent: false });
            // Restore cursor position
            input.setSelectionRange(startPosition, endPosition);
        }
    }
    onFilterPolicyGroup(event) {
        this.filterText = event.filter;
        this.filteredItems = this.policyGroupList.filter(item => item.policygroupname.toLowerCase().includes(this.filterText.toLowerCase()));
    }
}
UsersComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: UsersComponent, deps: [{ token: i1.UserOrgService }, { token: i2.FormBuilder }, { token: i3.AlertService }, { token: i4.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
UsersComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: UsersComponent, selector: "users", inputs: { RBACORG: "RBACORG", PERMISSION: "PERMISSION" }, viewQueries: [{ propertyName: "ms", first: true, predicate: MultiSelect, descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\" [formGroup]=\"userForm\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2 px-0 px-sm-0\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex align-items-center\">\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\r\n              <input class=\"form-control\" fieldKey=\"SETTINGS_USR_SEARCH_BY_NAME\" placeholder=\"Search by User name\"\r\n                type=\"text\" (keyup)=\"searchUser($event)\" pInputText />\r\n            </span>\r\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" (click)=\"onClickAddUser()\">Add</button>\r\n            <!-- Modified line -->\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"useracess\">\r\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n              *ngIf=\"!filteredUserList.length\">\r\n              <p>No Record Found</p>\r\n            </div>\r\n            <ng-container *ngFor=\"let item of filteredUserList\">\r\n              <div class=\"row userdata align-items-center\" (click)=\"getUserInfo(item)\"\r\n                [ngClass]=\"{ active: item.id === userid }\">\r\n                <div class=\"col-12\">\r\n                  <img *ngIf=\"!item?.additionalinfo?.thumbnail?.url\" src=\"assets/images/user-empty.png\" alt=\"user\"\r\n                    class=\"userempty mr-2\" />\r\n                  <img *ngIf=\"item?.additionalinfo?.thumbnail?.url\" [src]=\"item?.additionalinfo?.thumbnail?.url\"\r\n                    alt=\"user\" class=\"userempty mr-2\" />\r\n\r\n                  <div class=\"overflow_txt userInforight\">\r\n                    <span class=\"nameuser\">{{ item.firstname + ' ' + item.lastname }}</span>\r\n                    <br />\r\n                    <span class=\"emailuser\">{{ item.email }}</span> <br />\r\n                  </div>\r\n\r\n                  <div class=\"lock-icon\">\r\n                    <span class=\"right-icons\" *ngIf=\"item?.islocked\">\r\n                      <em class=\"fa fa-lock mr-2\" aria-hidden=\"true\" (click)=\"stopPropagation($event)\"></em>\r\n                    </span>\r\n                    <span class=\"right-icons\">\r\n                      <em class=\"fa fa-trash\" (click)=\"delete($event, item.id)\" aria-hidden=\"true\"\r\n                        *showField=\"'SETTINGS_USR_DELETE_USER'\"></em>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-lg-8 col-md-6 col-12 user-right setting-tab mt-2\">\r\n      <p-card class=\"rbac-card h-100\" [style]=\"{ width: '100%' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Personal Details</span>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"fname\" class=\"referral-form-labels\">First Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"fname\" type=\"text\" placeholder=\"Enter First Name\" formControlName=\"firstname\"\r\n              fieldKey=\"SETTINGS_USR_FIRST_NAME\" aria-describedby=\"fname\" pInputText\r\n              (keyup)=\"onPageNameInput($event, 'firstname')\"\r\n              (input)=\"onInput($event, 'username', 'First Name', true)\" />\r\n            <div *ngIf=\"validationErrors['First Name']\" class=\"p-error block mt-1\">{{validationErrors['First Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['First Name'] && formValidate['firstname'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['firstname'].invalid\" class=\"p-error block mt-1\">First Name is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"mname\" class=\"referral-form-labels\">Middle Name </label>\r\n            <input id=\"mname\" type=\"text\" placeholder=\"Enter Middle Name\" formControlName=\"middlename\"\r\n              fieldKey=\"SETTINGS_USR_MIDDLE_NAME\" aria-describedby=\"mname\" pInputText\r\n              (keyup)=\"onPageNameInput($event, 'middlename')\"\r\n              (input)=\"onInput($event, 'username', 'Middle Name', false)\" />\r\n            <div *ngIf=\"validationErrors['Middle Name']\" class=\"p-error block mt-1\">{{validationErrors['Middle Name']}}\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"lName\" class=\"referral-form-labels\">Last Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"lName\" type=\"text\" formControlName=\"lastname\" placeholder=\"Enter Last Name\"\r\n              fieldKey=\"SETTINGS_USR_LAST_NAME\" pInputText (keyup)=\"onPageNameInput($event, 'lastname')\"\r\n              aria-describedby=\"lName\" (input)=\"onInput($event, 'username', 'Last Name', true)\" />\r\n            <div *ngIf=\"validationErrors['Last Name']\" class=\"p-error block mt-1\">{{validationErrors['Last Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['Last Name'] && formValidate['lastname'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['lastname'].invalid\" class=\"p-error block mt-1\">Last Name is required </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <!-- <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"userName\" class=\"referral-form-labels\">User Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"userName\" type=\"text\" formControlName=\"username\" placeholder=\"Enter User Name\"\r\n              aria-describedby=\"userName\" fieldKey=\"SETTINGS_USR_USERNAME\" pInputText />\r\n            <div *ngIf=\"formValidate['username'].errors && formSubmit\">\r\n              <small *ngIf=\"formValidate['username'].invalid\" class=\"p-error block\">User Name is required </small>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label for=\"usersEmailid\" class=\"referral-form-labels\">Email ID\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"usersEmailid\" fieldKey=\"SETTINGS_USR_EMAIL\" formControlName=\"email\" placeholder=\"Enter Email ID\"\r\n              type=\"text\" (input)=\"onInput($event, 'email', 'Email ID', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Email ID']\" class=\"p-error block mt-1\">{{validationErrors['Email ID']}}</div>\r\n            <div *ngIf=\"!validationErrors['Email ID'] && formValidate['email'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['email'].errors['required']\" class=\"p-error block mt-1\">Email ID is required\r\n              </div>\r\n            </div>\r\n            <!-- <div *ngIf=\"formValidate['email'].errors && formSubmit\">\r\n              <small *ngIf=\"formValidate['email'].errors['pattern']\" class=\"p-error block\">Valid email is required\r\n              </small>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"role\" for=\"role\" class=\"referral-form-labels\">Role\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown inputId=\"role\" [options]=\"userRoles\" placeholder=\"Select a Role\" formControlName=\"userroles\"\r\n              styleClass=\"w-100\" optionLabel=\"name\" [resetFilterOnHide]=\"true\" [filter]=\"true\" [showClear]=\"true\"\r\n              optionValue=\"id\" ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_USR_ROLE\"\r\n              (onChange)=\"getRolePolicyGroups($event.value)\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['userroles'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['userroles'].invalid\" class=\"p-error block mt-1\">Role is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-md-12 col-12\">\r\n            <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n              <p-accordionTab>\r\n                <ng-template pTemplate=\"header\">\r\n                  <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                    <span class=\"font-bold\"><label for=\"pGroup\" class=\"referral-form-labels mb-0\">Additional Policy\r\n                        Groups</label> <span *ngIf=\"policyGroupsLength > 0\"\r\n                        class=\"pg-count ml-2\">{{policyGroupsLength}}</span> </span>\r\n                  </span>\r\n                </ng-template>\r\n                <p-multiSelect [options]=\"policyGroupList\" formControlName=\"userpolicygroups\" [resetFilterOnHide]=\"true\"\r\n                  defaultLabel=\"Select Policy Groups\" optionLabel=\"policygroupname\" inputId=\"pGroup\"\r\n                  ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_USR_POLICY_GROUP\" (onChange)=\"selectPolicyGroup($event)\" \r\n                  (onFilter)=\"onFilterPolicyGroup($event)\" display=\"chip\" styleClass=\"policygroup-v2\">\r\n                  <ng-template let-value pTemplate=\"selectedItems\">\r\n                    <div *ngFor=\"let option of value\">\r\n                      <ng-container>\r\n                        <div #selectedpg class=\"p-multiselect-token\" [ngClass]=\"option.disabled ? 'disabled' : '' \"\r\n                          id=\"{{option.id}}\">\r\n                          <span class=\"policygroupname\">\r\n                            {{ option.policygroupname }}\r\n                          </span>\r\n                          <span class=\"rolepg ml-2 badge badge-primary\" *ngIf=\"option.disabled\">\r\n                            Role\r\n                          </span>\r\n                          <em class=\"pi pi-times-circle ml-2 clear-icon right-sec\" *ngIf=\"!option.disabled\"\r\n                            role=\"button\" (click)=\"removeValue($event, selectedpg)\"></em>\r\n                        </div>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div *ngIf=\"!value || value.length === 0\">Select Policy Groups\r\n                    </div>\r\n                  </ng-template>\r\n                  <ng-template let-pg pTemplate=\"item\">\r\n                    <div class=\"d-flex align-items-center flex-row justify-content-between gap-2 disabled-list w-100\">\r\n                      <div>{{ pg.name }}</div>\r\n                      <span class=\"rolepg ml-2 badge badge-primary\" *ngIf=\"pg.disabled\">Role</span>\r\n                    </div>\r\n                  </ng-template>\r\n                </p-multiSelect>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-md-12 col-12 mb-1 d-flex align-items-center\" *ngIf=\"!sendCredentials\">\r\n            <label for=\"file\" class=\"btn btn-primary mt-2 mb-2 profile d-flex align-items-center\">\r\n              <span class=\"material-icon material-symbols-outlined action-btn upload mr-2\">cloud_upload</span>Add\r\n              Image</label>\r\n            <span class=\"material-icon material-symbols-outlined text-muted action-btn mx-2\"\r\n              pTooltip=\"Supported file formats are JPG, PNG, JPEG and GIF\" style=\"cursor: pointer;\">\r\n              Info\r\n            </span>\r\n            <input type=\"file\" (change)=\"handleFileInput($event)\" id=\"file\" aria-hidden=\"true\"\r\n              style=\"visibility: hidden; display: none\" />\r\n            <img *ngIf=\"userForm.controls['thumbnail'].value\" [src]=\"userForm.controls['thumbnail'].value\" alt=\"user\"\r\n              class=\"userempty mr-0\" />\r\n            <label class=\"warning ml-2 mb-md-0\"\r\n              [ngStyle]=\"{ color: imageInformation === 'Image size exceeds 100 KB' ? '#fc0303' : '#007cc3'}\">{{\r\n              imageInformation }}</label> <em class=\"pi pi-trash ml-2\" pTooltip=\"Remove Image\"\r\n              *ngIf=\"userForm.controls['thumbnail'].value && imageInformation !== 'Image size exceeds 100 KB'\"\r\n              (click)=\"onClickRemoveProfile()\" style=\"cursor: pointer;\"></em>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"binary\" [binary]=\"true\"\r\n                fieldKey=\"SETTINGS_USR_EMAIL_TO_CURRENT_USER\" formControlName=\"emailtocurrentuser\">\r\n              </p-checkbox>\r\n              <label for=\"binary\">Send Credentials to Current Logged in User</label>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"!sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"isenabled\" [binary]=\"true\" formControlName=\"isenabled\">\r\n              </p-checkbox>\r\n              <label for=\"isenabled\">Active</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\">\r\n            <div class=\"p-field-checkbox send-credentials\" *ngIf=\"!sendCredentials\">\r\n              <p-checkbox class=\"p-m-1 p-m-lg-2\" inputId=\"islocked\" [binary]=\"true\" formControlName=\"islocked\">\r\n              </p-checkbox>\r\n              <label for=\"islocked\">Locked</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\"></div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12\"></div>\r\n          <div class=\"p-field col-lg-4 col-sm-4 col-md-12 col-12 mb-0\">\r\n            <button fieldKey=\"SETTINGS_USR_ADD_UPDATE\" class=\"pull-right mr-2 mb-2 btn btn-primary btncommon\"\r\n              (click)=\"addUser()\">\r\n              {{ userid ? 'Update User' : 'Add User' }}\r\n            </button>\r\n            <button fieldKey=\"SETTINGS_USR_CANCEL\" class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n              (click)=\"cancelUser()\" [disabled]=\"!enableButton\">\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure want to Delete User?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteUser()\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"DeleteProfile\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure you want to delete the Profile Image?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\"\r\n            (click)=\"removeThumbnail()\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--font-13)}.useracess{border-radius:2px;padding:5px 0;overflow-y:auto}.pi-trash{color:red;font-size:var(--font-16)}.action-btn.upload{font-size:var(--font-19)}.userempty{max-width:none;border-radius:50%;height:40px;width:40px;display:inline-block;margin-right:15px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}.overflow_txt.userInforight{display:inline-block;vertical-align:middle;width:calc(100% - 50px)}.lock-icon{position:absolute;right:15px;top:50%;margin-top:-13px}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#767676}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}.rbac-card .profile{color:#fff}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-lock{font-size:var(--font-18)}.right-icons .fa-trash{font-size:var(--font-18)}@media screen and (max-width: 767px){.useracess{max-height:400px}}@media screen and (min-width: 768px){.useracess{height:calc(100vh - 188px)}}@media screen and (min-width: 990px) and (max-width: 1024px){.useracess .userempty{height:100%;width:100%}}:host ::ng-deep .clear-icon{font-size:13px}:host ::ng-deep .policygroup-accordion .policygroup-v2.p-multiselect .p-multiselect-panel{top:auto!important}\n"], components: [{ type: i5.AlertComponent, selector: "app-alert" }, { type: i6.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { type: i7.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i8.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { type: i8.AccordionTab, selector: "p-accordionTab", inputs: ["header", "disabled", "cache", "transitionOptions", "selected"], outputs: ["selectedChange"] }, { type: i9.MultiSelect, selector: "p-multiSelect", inputs: ["style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "label", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "autoZIndex", "baseZIndex", "filterBy", "virtualScroll", "itemSize", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "scrollHeight", "defaultLabel", "placeholder", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide"] }, { type: i10.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }], directives: [{ type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i11.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i12.InputText, selector: "[pInputText]" }, { type: i13.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i13.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i13.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i14.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { type: i15.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { type: i13.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: UsersComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'users',
                    templateUrl: './users.component.html',
                    styleUrls: ['./users.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.UserOrgService }, { type: i2.FormBuilder }, { type: i3.AlertService }, { type: i4.DataStoreService }]; }, propDecorators: { RBACORG: [{
                type: Input
            }], PERMISSION: [{
                type: Input
            }], ms: [{
                type: ViewChild,
                args: [MultiSelect]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtdXNlcnMvc3JjL2xpYi9waWNzLXJiYWMtdXNlcnMvdXNlcnMvdXNlcnMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtdXNlcnMvc3JjL2xpYi9waWNzLXJiYWMtdXNlcnMvdXNlcnMvdXNlcnMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BFLE9BQU8sRUFBMEIsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMvQixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFFaEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBSTFELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTbEQsTUFBTSxPQUFPLGNBQWM7SUE2Q3pCLFlBQ1UsV0FBMkIsRUFDM0IsRUFBZSxFQUNmLFlBQTBCLEVBQzFCLGFBQStCO1FBSC9CLGdCQUFXLEdBQVgsV0FBVyxDQUFnQjtRQUMzQixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YsaUJBQVksR0FBWixZQUFZLENBQWM7UUFDMUIsa0JBQWEsR0FBYixhQUFhLENBQWtCO1FBaER6QixZQUFPLEdBQWEsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUduRCxhQUFRLEdBQWdCLEVBQUUsQ0FBQztRQUMzQixpQkFBWSxHQUFvQixFQUFFLENBQUM7UUFDbkMscUJBQWdCLEdBQWdCLEVBQUUsQ0FBQztRQUNuQyxrQkFB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Q0FBQztZQUNiLGVBQWUsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDM0QsMEJBQTBCO1lBQzFCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDckQ7SUFDSCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsS0FBUztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZJLENBQUM7OzRHQXRxQlUsY0FBYztnR0FBZCxjQUFjLDJJQUdkLFdBQVcsZ0RDdEJ4QiwyZ2lCQStSQTs0RkQ1UWEsY0FBYztrQkFMMUIsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsT0FBTztvQkFDakIsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsU0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUM7aUJBQ3RDO3lMQUVpQixPQUFPO3NCQUF0QixLQUFLO2dCQUNVLFVBQVU7c0JBQXpCLEtBQUs7Z0JBQ2tCLEVBQUU7c0JBQXpCLFNBQVM7dUJBQUMsV0FBVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGVQaXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBBcHBDb25zdGFudHMgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvYXBwLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IFByb3ZpZGVyR3JvdXAsIFVzZXJHcm91cCB9IGZyb20gJy4uL0Bjb3JlL2RhdGFtb2RlbC91c2VyRGF0YU1vZGVsJztcclxuaW1wb3J0IHsgUkJBQ0lORk8gfSBmcm9tICcuLi9AY29yZS91cmxzL3VzZXJzLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBVc2VyT3JnU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvdXNlci1vcmcuc2VydmljZSc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IE11bHRpU2VsZWN0IH0gZnJvbSAncHJpbWVuZy9tdWx0aXNlbGVjdCc7XHJcblxyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndXNlcnMnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi91c2Vycy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdXNlcnMuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVXNlcnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBSQkFDT1JHOiBSQkFDSU5GTyA9IG5ldyBSQkFDSU5GTygpO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBQRVJNSVNTSU9OOiBhbnk7XHJcbiAgQFZpZXdDaGlsZChNdWx0aVNlbGVjdCkgbXM6IE11bHRpU2VsZWN0O1xyXG4gIHVzZXJMaXN0OiBVc2VyR3JvdXBbXSA9IFtdO1xyXG4gIHByb3ZpZGVyTGlzdDogUHJvdmlkZXJHcm91cFtdID0gW107XHJcbiAgZmlsdGVyZWRVc2VyTGlzdDogVXNlckdyb3VwW10gPSBbXTtcclxuICBzZWxlY3RlZFJvbGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIHNlbGVjdGVkVGVhbXM6IHN0cmluZ1tdID0gW107XHJcbiAgdXNlclJvbGVzITogYW55W107XHJcbiAgdXNlclRlYW1zITogYW55W107XHJcbiAgZm9ybVN1Ym1pdDogYm9vbGVhbjtcclxuICBkaXNhYmxlZCE6IGJvb2xlYW47XHJcbiAgdXNlckZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgdXNlclNlYXJjaCQgPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XHJcbiAgZGVsZXRlZElkITogc3RyaW5nO1xyXG4gIHVzZXJpZDogYW55O1xyXG4gIGNoZWNrZWQ6IGJvb2xlYW47XHJcbiAgc2VuZENyZWRlbnRpYWxzOiBib29sZWFuO1xyXG4gIHByb3ZpZGVyQWNjb3VudDogYm9vbGVhbjtcclxuICB1cGxvYWRlZEZpbGU6IGFueTtcclxuICB1cmxQYXRoOiBhbnk7XHJcbiAgaW1hZ2VEYXRhOiBhbnk7XHJcbiAgYXR0YWNoVHlwZTogYW55O1xyXG4gIGltYWdlSW5mb3JtYXRpb24hOiBzdHJpbmc7XHJcbiAgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIHBvbGljeUdyb3VwTGlzdDogYW55O1xyXG4gIG9yZ0luZm86IGFueTtcclxuICBvcmdJZDogYW55O1xyXG4gIGZpcnN0bmFtZTogc3RyaW5nO1xyXG4gIGh0dHBTZXJ2aWNlOiBhbnk7XHJcbiAgbGFzdG5hbWU6IHN0cmluZztcclxuICBtaWRkbGVuYW1lOiBzdHJpbmc7XHJcbiAgcm9sZVBvbGljeUdyb3VwczogYW55ID0gW107XHJcbiAgdXNlclBvbGljeUdyb3VwczogYW55ID0gW107XHJcbiAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gIGlucHV0VmFsaWRhdGlvbk1ldGhvZDogYW55O1xyXG4gIHBvbGljeUdyb3Vwc0xlbmd0aDogYW55O1xyXG4gIGVuYWJsZUJ1dHRvbjogYm9vbGVhbjtcclxuICBvcmlnaW5hbFBvbGljeUdyb3VwTGlzdDogYW55W10gPSBbXTsgXHJcbiAgcHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwczogYW55W10gPSBbXSBcclxuICBmaWx0ZXJUZXh0OiBzdHJpbmc7XHJcbiAgZmlsdGVyZWRJdGVtczogYW55W10gPSBbXTsgXHJcblxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJPcmdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gZmFsc2U7XHJcbiAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5zZW5kQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJyc7XHJcbiAgICB0aGlzLmluaXRpYWxpemVGb3JtKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QgPSByZXNbJ0lOUFVUVkFMSURBVElPTk1FVEhPRCddXHJcbiAgICAgICAgdGhpcy5odHRwU2VydmljZSA9IHJlc1snSFRUUFNFUlZJQ0UnXVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYgKHRoaXMuUkJBQ09SR1snb3JnSUQnXSkge1xyXG4gICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5nZXRSb2xlc0xpc3QoKTtcclxuICAgICAgICB0aGlzLmdldFBvbGljeUdyb3VwTGlzdCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51c2VyRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5lbmFibGVCdXR0b24gPSB0aGlzLmlzQW55Rm9ybUNvbnRyb2xXaXRoVmFsdWUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNBbnlGb3JtQ29udHJvbFdpdGhWYWx1ZSgpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMudXNlckZvcm0udmFsdWU7XHJcbiAgICBjb25zdCBhdm9pZFByb3BlcnRpZXMgPSBbJ2VtYWlsdG9jdXJyZW50dXNlcicsICdpc2VuYWJsZWQnLCAncHJvdmlkZXJBY2NvdW50JywgJ2lzbG9ja2VkJ107XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybVZhbHVlKSB7XHJcbiAgICAgIGlmIChmb3JtVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhYXZvaWRQcm9wZXJ0aWVzLmluY2x1ZGVzKGtleSkgJiYgZm9ybVZhbHVlW2tleV0pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUZvcm0oKSB7XHJcbiAgICB0aGlzLnVzZXJGb3JtID0gdGhpcy5mYi5ncm91cCh7XHJcbiAgICAgIGZpcnN0bmFtZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleFVzZXJuYW1lKV1dLFxyXG4gICAgICBtaWRkbGVuYW1lOiBbJyddLFxyXG4gICAgICBsYXN0bmFtZTogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleFVzZXJuYW1lKV1dLFxyXG4gICAgICB1c2VybmFtZTogWycnXSxcclxuICAgICAgLy8gZG9iOiBbJyddLFxyXG4gICAgICBlbWFpbDogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5wYXR0ZXJuKEFwcENvbnN0YW50cy5yZWdleEVtYWlsKV1dLFxyXG4gICAgICB1c2Vycm9sZXM6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIHVzZXJ0ZWFtczogWycnXSxcclxuICAgICAgdXNlcnBvbGljeWdyb3VwczogWycnXSxcclxuICAgICAgb3JnYW5pemF0aW9uaWQ6IFsnJ10sXHJcbiAgICAgIGVtYWlsdG9jdXJyZW50dXNlcjogZmFsc2UsXHJcbiAgICAgIGlzZW5hYmxlZDogW3RydWVdLFxyXG4gICAgICBwcm92aWRlcklkOiBbJyddLFxyXG4gICAgICBwcm92aWRlckFjY291bnQ6IGZhbHNlLFxyXG4gICAgICB0aHVtYm5haWw6IFsnJ10sXHJcbiAgICAgIGlzbG9ja2VkOiBbZmFsc2VdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VyRm9ybS5jb250cm9scztcclxuICB9XHJcblxyXG4gIG9uSW5wdXQoZXZlbnQ6IEV2ZW50LCBmaWVsZHR5cGU6IGFueSwgbGFiZWw6IGFueSwgcmVxdWlyZWQ6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QoZXZlbnQsIGZpZWxkdHlwZSwgbGFiZWwsIHJlcXVpcmVkKTtcclxuICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9yc1tsYWJlbF0gPSBlcnJvcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckxpc3QoX2tleT86IHN0cmluZykge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyT3JnTGlzdCh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmlsdGVyZWRVc2VyTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMudXNlckxpc3QgPSByZXMuZGF0YTtcclxuICAgICAgICB0aGlzLmZpbHRlcmVkVXNlckxpc3QgPSB0aGlzLnVzZXJMaXN0O1xyXG4gICAgICB9LFxyXG4gICAgICAoX2Vycm9yOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0Um9sZXNMaXN0KCkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyUm9sZSh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXNlclJvbGVzID0gcmVzWydkYXRhJ107XHJcbiAgICAgIH0sXHJcbiAgICAgIChfZXJyb3I6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICk7XHJcbiAgfVxyXG4gIGNsZWFyU2VhcmNoKGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udHJvbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkVXNlckxpc3QgPSB0aGlzLnVzZXJMaXN0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UG9saWN5R3JvdXBMaXN0KF9tYW5hZ2VtZW50R3JvdXBJZD86IG51bWJlcikge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRPcmdQb2xpY3lHcm91cExpc3QodGhpcy5vcmdJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLnBvbGljeUdyb3VwTGlzdCA9IHJlc1snZGF0YSddLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xyXG4gICAgICB9LFxyXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcclxuICAgICk7XHJcbiAgfVxyXG4gIGFkZFVzZXIoKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlckZvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGRlbGV0ZSB1c2VyRGF0YS50aHVtYm5haWw7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMudXNlckZvcm0udmFsaWQpIHtcclxuICAgICAgY29uc3Qgcm9sZVBvbGljeUdyb3Vwc0lkcyA9IG5ldyBTZXQodGhpcy5yb2xlUG9saWN5R3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgdXNlclBvbGljeUdyb3Vwc0lkcyA9IG5ldyBTZXQodGhpcy51c2VyUG9saWN5R3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgY29tYmluZWRQb2xpY3lHcm91cHNJZHMgPSBuZXcgU2V0KFsuLi5yb2xlUG9saWN5R3JvdXBzSWRzLCAuLi51c2VyUG9saWN5R3JvdXBzSWRzXSk7XHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhUG9saWN5R3JvdXBzSWRzID0gbmV3IFNldCh1c2VyRGF0YS51c2VycG9saWN5Z3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uaWQpKTtcclxuICAgICAgY29uc3QgZmluYWxQb2xpY3lHcm91cHMgPSBbXHJcbiAgICAgICAgLi4udXNlckRhdGEudXNlcnBvbGljeWdyb3Vwcy5maWx0ZXIoaXRlbSA9PiAhY29tYmluZWRQb2xpY3lHcm91cHNJZHMuaGFzKGl0ZW0uaWQpKSxcclxuICAgICAgICAuLi50aGlzLnVzZXJQb2xpY3lHcm91cHNcclxuICAgICAgXS5maWx0ZXIoaXRlbSA9PiB1c2VyRGF0YVBvbGljeUdyb3Vwc0lkcy5oYXMoaXRlbS5pZCkpO1xyXG4gXHJcbiAgICAgIHVzZXJEYXRhLm9yZ2FuaXphdGlvbmlkID0gdGhpcy5vcmdJZDtcclxuICAgICAgdXNlckRhdGEuaWQgPSB0aGlzLnVzZXJpZCB8fCAxO1xyXG4gICAgICB1c2VyRGF0YS51c2VydGVhbXMgPSB1c2VyRGF0YS51c2VydGVhbXMgfHwgW107XHJcbiAgICAgIHVzZXJEYXRhLnVzZXJyb2xlcyA9IFt1c2VyRGF0YS51c2Vycm9sZXNdIHx8IFtdO1xyXG4gICAgICB1c2VyRGF0YS51c2VycG9saWN5Z3JvdXBzID0gZmluYWxQb2xpY3lHcm91cHNcclxuICAgICAgdXNlckRhdGEuZW1haWx0b2N1cnJlbnR1c2VyID0gdXNlckRhdGEuZW1haWx0b2N1cnJlbnR1c2VyIHx8IGZhbHNlO1xyXG4gICAgICB1c2VyRGF0YS51c2VybmFtZSA9IHVzZXJEYXRhLnVzZXJuYW1lIHx8IFwiXCI7XHJcbiAgICAgIC8vIHVzZXJEYXRhLmRvYiA9IG5ldyBEYXRlUGlwZSgnZW4tVVMnKS50cmFuc2Zvcm0odXNlckRhdGEuZG9iLCAnWVlZWS1NTS1kZCcpO1xyXG4gICAgICBpZiAoIXRoaXMudXNlcmlkKSB7XHJcbiAgICAgICAgdGhpcy51c2VyV2l0aE91dElkKHVzZXJEYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnVzZXJXaXRoSUQodXNlckRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVzZXJXaXRoT3V0SWQodXNlckRhdGE6IGFueSkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5zYXZlVXNlcih1c2VyRGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlckFjY291bnQgJiYgdGhpcy51c2VyRm9ybS5jb250cm9sc1sncHJvdmlkZXJJZCddLnZhbGlkKSB7XHJcbiAgICAgICAgICB0aGlzLmFkZFByb3ZpZGVyVXNlcih1c2VyRGF0YS5wcm92aWRlcklkLCByZXNbJ2RhdGEnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FuY2VsKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnJvcjogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yLmVycm9yLm1lc3NhZ2UpIHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICB1c2VyV2l0aElEKHVzZXJEYXRhOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnVwbG9hZGVkRmlsZSkge1xyXG4gICAgICB1c2VyRGF0YS5hZGRpdGlvbmFsaW5mbyA9IHtcclxuICAgICAgICBwaG90bzogdGhpcy5pbWFnZURhdGEsXHJcbiAgICAgICAgdGh1bWJuYWlsOiB0aGlzLmltYWdlRGF0YVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVVc2VyKHVzZXJEYXRhLCB0aGlzLnVzZXJpZCkuc3Vic2NyaWJlKFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgICB0aGlzLmdldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgICAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWyd1c2VybmFtZSddLmRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWydlbWFpbCddLmRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnI6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIuZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbWFwVXNlclRvUm9sZSh1c2VySWQ6IGFueSwgcm9sZUlkOiBhbnkpIHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgICByb2xlSWQ6IHJvbGVJZFxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWRkVXNlclJvbGUocmVxdWVzdCkuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKCdVc2VyIG1hcHBlZCB0byByb2xlIFN1Y2Nlc3NmdWxseScpKTtcclxuICB9XHJcbiAgb25DbGlja0FkZFVzZXIoKSB7XHJcbiAgICB0aGlzLnVzZXJGb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWydlbWFpbCddLmVuYWJsZSgpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplRm9ybSgpO1xyXG4gICAgdGhpcy51c2VyRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5lbmFibGVCdXR0b24gPSB0aGlzLmlzQW55Rm9ybUNvbnRyb2xXaXRoVmFsdWUoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbmRDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICB0aGlzLnVzZXJpZCA9ICcnO1xyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMucG9saWN5R3JvdXBMaXN0Lm1hcCgocCkgPT4gcC5kaXNhYmxlZCA9IGZhbHNlKTtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy51c2VyRm9ybS5nZXQoJ3VzZXJwb2xpY3lncm91cHMnKS5zZXRWYWx1ZShbXSk7XHJcbiAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IHRoaXMudXNlckZvcm0udmFsdWUudXNlcnBvbGljeWdyb3Vwcy5sZW5ndGg7XHJcbiAgICB0aGlzLmVuYWJsZUJ1dHRvbiA9IGZhbHNlO1xyXG4gIH1cclxuICBjYW5jZWwoY2hhbmdlRmxhZykge1xyXG4gICAgaWYgKCF0aGlzLnVzZXJpZCkge1xyXG4gICAgICB0aGlzLnVzZXJGb3JtLnJlc2V0KCk7XHJcbiAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgaXNlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIGlzbG9ja2VkOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0ge307XHJcbiAgICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gMDtcclxuICAgIH1cclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gZmFsc2U7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ2VtYWlsJ10uZW5hYmxlKCk7XHJcbiAgICB0aGlzLnVzZXJGb3JtLmNvbnRyb2xzWyd1c2VybmFtZSddLmVuYWJsZSgpO1xyXG4gICAgaWYgKGNoYW5nZUZsYWcpIHtcclxuICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QubWFwKChwKSA9PiBwLmRpc2FibGVkID0gZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoVXNlcihldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdGhpcy5maWx0ZXJlZFVzZXJMaXN0ID0gdGhpcy51c2VyTGlzdC5maWx0ZXIoYSA9PiBhPy5maXJzdG5hbWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8odXNlcjogYW55KSB7XHJcbiAgICB0aGlzLnVzZXJQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFtdOyBcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbmRDcmVkZW50aWFscyA9IGZhbHNlO1xyXG4gICAgdGhpcy51c2VyaWQgPSB1c2VyLmlkO1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRBbGxVc2VyTGlzdCh0aGlzLnVzZXJpZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJyc7XHJcbiAgICAgIC8vIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9IHJlcy5kYXRhLmFkZGl0aW9uYWxpbmZvPy50aHVtYm5haWw/LmZpbGVOYW1lPy5zcGxpdCgnLycpWzJdIHx8ICcnO1xyXG4gICAgICB0aGlzLnVzZXJGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIGZpcnN0bmFtZTogcmVzLmRhdGEuZmlyc3RuYW1lLFxyXG4gICAgICAgIG1pZGRsZW5hbWU6IHJlcy5kYXRhLm1pZGRsZW5hbWUsXHJcbiAgICAgICAgbGFzdG5hbWU6IHJlcy5kYXRhLmxhc3RuYW1lLFxyXG4gICAgICAgIHVzZXJuYW1lOiByZXMuZGF0YS51c2VybmFtZSxcclxuICAgICAgICAvLyBkb2I6IG5ldyBEYXRlKHJlcy5kYXRhLmRvYiksXHJcbiAgICAgICAgZW1haWw6IHJlcy5kYXRhLmVtYWlsLFxyXG4gICAgICAgIG9yZ2FuaXphdGlvbmlkOiByZXMuZGF0YS5vcmdhbml6YXRpb25pZCxcclxuICAgICAgICB0aHVtYm5haWw6IHJlcy5kYXRhLmFkZGl0aW9uYWxpbmZvPy50aHVtYm5haWw/LnVybCB8fCAnJyxcclxuICAgICAgICBpc2VuYWJsZWQ6IHJlcz8uZGF0YT8uaXNlbmFibGVkLFxyXG4gICAgICAgIGlzbG9ja2VkOiByZXM/LmRhdGE/LmlzbG9ja2VkLFxyXG4gICAgICAgIHVzZXJyb2xlczogcmVzPy5kYXRhPy51c2Vycm9sZXNbMF0/LmlkIHx8IDAsXHJcbiAgICAgICAgdXNlcnRlYW1zOiByZXMuZGF0YS51c2VydGVhbXNcclxuICAgICAgICAgID8gcmVzLmRhdGEudXNlcnRlYW1zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbSlcclxuICAgICAgICAgICAgLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICA6IFtdLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgbGlzdCA9IHRoaXMucG9saWN5R3JvdXBMaXN0O1xyXG4gICAgICBjb25zdCBVUEdzID0gcmVzLmRhdGEucG9saWN5Z3JvdXBzO1xyXG4gICAgICBVUEdzLmZvckVhY2godXBnID0+IHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ1BvbGljeSA9IGxpc3QuZmluZChmID0+IGYuaWQgPT09IHVwZy5pZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nUG9saWN5KSB0aGlzLnVzZXJQb2xpY3lHcm91cHMucHVzaChleGlzdGluZ1BvbGljeSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmdldFJvbGVQb2xpY3lHcm91cHModGhpcy51c2VyRm9ybS52YWx1ZS51c2Vycm9sZXMpO1xyXG5cclxuICAgICAgdGhpcy51c2VyRm9ybS5jb250cm9sc1snZW1haWwnXS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3VzZXJuYW1lJ10uZGlzYWJsZSgpO1xyXG4gICAgICAvLyB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZW1vdmVWYWx1ZShlLCBpdGVtKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQR3MgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHM7XHJcbiAgICBjb25zdCBmaWx0ZXJlZFBncyA9IHNlbGVjdGVkUEdzLmZpbHRlcigocykgPT4gcy5pZCAhPT0gTnVtYmVyKGl0ZW0uaWQpKTtcclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IGZpbHRlcmVkUGdzOyBcclxuICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgIHVzZXJwb2xpY3lncm91cHM6IGZpbHRlcmVkUGdzXHJcbiAgICB9KVxyXG4gICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubGVuZ3RoO1xyXG4gIH1cclxuICBnZXRSb2xlUG9saWN5R3JvdXBzKHJvbGVJZDogYW55KSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwTGlzdC5mb3JFYWNoKHBnID0+IHBnWydkaXNhYmxlZCddID0gZmFsc2UpO1xyXG4gICAgaWYgKCFyb2xlSWQpIHtcclxuICAgICAgdGhpcy5yb2xlUG9saWN5R3JvdXBzID0gW107XHJcbiAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgdXNlcnBvbGljeWdyb3VwczogW10sXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IDA7IFxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnVzZXJTZXJ2aWNlLmdldFJvbGVCeUlkKHJvbGVJZCkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cHMuc29ydCgoYSwgYikgPT4gYS5wb2xpY3lncm91cG5hbWUubG9jYWxlQ29tcGFyZShiLnBvbGljeWdyb3VwbmFtZSkpO1xyXG4gICAgICAgICAgY29uc3QgUEdTID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBzXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbSlcclxuICAgICAgICAgICAgLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICAgIH0pIHx8IFtdXHJcblxyXG4gICAgICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5wb2xpY3lHcm91cExpc3Q7XHJcbiAgICAgICAgICBQR1MubWFwKChwZzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBnRXhpc3RzID0gbGlzdC5maWx0ZXIoKGYpID0+IGYuaWQgPT09IHBnLmlkKVxyXG4gICAgICAgICAgICBpZiAocGdFeGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgYXJyLnB1c2gocGdFeGlzdHNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICAgIHVzZXJwb2xpY3lncm91cHM6IGFyclxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIGNvbnN0IHJvbGVQR3MgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubWFwKChyKSA9PiByLmlkKTtcclxuICAgICAgICAgIGNvbnN0IGluY2x1ZGVkSW5kZXhlcyA9IFtdO1xyXG4gICAgICAgICAgY29uc3QgZXhjbHVkZWRJbmRleGVzID0gW107XHJcbiAgICAgICAgICB0aGlzLnBvbGljeUdyb3VwTGlzdC5mb3JFYWNoKChwZywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvbGVQR3MuaW5jbHVkZXMocGcuaWQpKSB7XHJcbiAgICAgICAgICAgICAgaW5jbHVkZWRJbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGV4Y2x1ZGVkSW5kZXhlcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zdCByZW9yZGVyZWRMaXN0ID0gaW5jbHVkZWRJbmRleGVzLm1hcChpbmRleCA9PiB0aGlzLnBvbGljeUdyb3VwTGlzdFtpbmRleF0pLmNvbmNhdChleGNsdWRlZEluZGV4ZXMubWFwKGluZGV4ID0+IHRoaXMucG9saWN5R3JvdXBMaXN0W2luZGV4XSkpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVvcmRlcmVkTGlzdCwgXCJyZW9yZGVyXCIpO1xyXG4gICAgICAgICAgcmVvcmRlcmVkTGlzdC5mb3JFYWNoKHBnID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvbGVQR3MuaW5jbHVkZXMocGcuaWQpKSB7XHJcbiAgICAgICAgICAgICAgcGdbJ2Rpc2FibGVkJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMucG9saWN5R3JvdXBMaXN0ID0gcmVvcmRlcmVkTGlzdDtcclxuICAgICAgICAgIHRoaXMudXNlclBvbGljeUdyb3VwcyA9IHRoaXMudXNlclBvbGljeUdyb3Vwcy5zb3J0KChhLCBiKSA9PiBhLnBvbGljeWdyb3VwbmFtZS5sb2NhbGVDb21wYXJlKGIucG9saWN5Z3JvdXBuYW1lKSk7XHJcbiAgICAgICAgICBjb25zdCBhbGxQb2xpY3lHcm91cHMgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMuY29uY2F0KHRoaXMudXNlclBvbGljeUdyb3Vwcyk7XHJcbiAgICAgICAgICBjb25zdCB1bmlxdWVQb2xpY3lHcm91cHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWxsUG9saWN5R3JvdXBzKSk7XHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHMgPSB1bmlxdWVQb2xpY3lHcm91cHM7IFxyXG4gICAgICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHsgdXNlcnBvbGljeWdyb3VwczogdW5pcXVlUG9saWN5R3JvdXBzIH0pO1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBGZXRjaCBQb2xpY3kgR3JvdXBzJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoZXZlbnQ6IEV2ZW50LCBpZDogYW55KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoaXMuZGVsZXRlZElkID0gaWQ7XHJcbiAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVVc2VyKCkge1xyXG4gICAgdGhpcy51c2VyU2VydmljZS5kZWxldGVVc2VyKHRoaXMuZGVsZXRlZElkKS5zdWJzY3JpYmUoXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICB0aGlzLmNhbmNlbCh0cnVlKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVc2VyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3VzZXJuYW1lJ10uZGlzYWJsZSgpO1xyXG4gICAgICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ2VtYWlsJ10uZGlzYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTtcclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgVXNlcicpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY2FuY2VsVXNlcigpIHtcclxuICAgIHRoaXMuc2VuZENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy51c2VyRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgaXNlbmFibGVkOiB0cnVlLFxyXG4gICAgICBpc2xvY2tlZDogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgdGhpcy51c2VyRm9ybS5jb250cm9sc1snZW1haWwnXS5lbmFibGUoKTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3VzZXJuYW1lJ10uZW5hYmxlKCk7XHJcbiAgICB0aGlzLnVzZXJpZCA9ICcnO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cExpc3QubWFwKChwKSA9PiBwLmRpc2FibGVkID0gZmFsc2UpO1xyXG4gICAgdGhpcy51c2VyUG9saWN5R3JvdXBzID0gW107XHJcbiAgICB0aGlzLnJvbGVQb2xpY3lHcm91cHMgPSBbXTtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzID0gW107IFxyXG4gICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSAwO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVVc2VyKCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJGb3JtLmdldFJhd1ZhbHVlKCk7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgIGNvZGU6IHVzZXJEYXRhLm90cFxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWN0aXZhdGVVc2VyKGJvZHkpLnN1YnNjcmliZShcclxuICAgICAgKF9yZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1VzZXIgQWN0aXZhdGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9LFxyXG4gICAgICAoX2VycjogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1VzZXIgQWN0aXZhdGlvbiBGYWlsZWQnKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdFByb3ZpZGVyKHNlbGVjdGVkOiBhbnkpIHtcclxuICAgIHRoaXMucHJvdmlkZXJBY2NvdW50ID0gc2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICBhZGRQcm92aWRlclVzZXIocHJvdmlkZXJJZDogYW55LCB1c2VyaWQ6IGFueSkge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgcHJvdmlkZXJJZDogcHJvdmlkZXJJZCxcclxuICAgICAgYWNjb3VudElkOiB1c2VyaWQudG9TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIHRoaXMudXNlclNlcnZpY2UuYWRkUHJvdmlkZXJVc2VyKGRhdGEpLnN1YnNjcmliZShcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm92aWRlciBVc2VyIGFkZGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9LFxyXG4gICAgICAoX2VycjogYW55KSA9PiBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGFkZCBQcm92aWRlciB1c2VyJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGaWxlSW5wdXQoZmlsZVZhbHVlOiBhbnkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGZpbGVWYWx1ZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IGZpbGU6IEZpbGUgPSB0YXJnZXQuZmlsZXMhWzBdO1xyXG4gICAgdGhpcy51cGxvYWRlZEZpbGUgPSBmaWxlVmFsdWUudGFyZ2V0LmZpbGVzWzBdLm5hbWU7XHJcbiAgICB0aGlzLmltYWdlRGF0YSA9IHtcclxuICAgICAgY29udGVudFR5cGU6IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0udHlwZSxcclxuICAgICAgZmlsZU5hbWU6IGB1c2VyLXByb2ZpbGVpbWFnZS8ke3RoaXMudXNlcmlkfS8ke3RoaXMudXBsb2FkZWRGaWxlLnJlcGxhY2VBbGwoJyAnLCAnJyl9YFxyXG4gICAgfTtcclxuICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gICAgaWYgKHRoaXMudmFsaWRhdGVJbWFnZShmaWxlVmFsdWUudGFyZ2V0LmZpbGVzKSkge1xyXG4gICAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwbG9hZEtleSh0aGlzLmltYWdlRGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy51cmxQYXRoID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICBjb25zdCB1cGxvYWRBdHRhY2htZW50OiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpO1xyXG4gICAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudERldGFpbHMgPSB1cGxvYWRBdHRhY2htZW50LmZpbGVzWzBdO1xyXG4gICAgICAgICAgdGhpcy5odHRwU2VydmljZS5wdXRVcGxvYWQodGhpcy51cmxQYXRoLCB1cGxvYWRBdHRhY2htZW50RGV0YWlscywgdXBsb2FkQXR0YWNobWVudERldGFpbHMudHlwZSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgICAoX3Jlc3A6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1Byb2ZpbGUgSW1hZ2UgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyRm9ybS5wYXRjaFZhbHVlKHsgdGh1bWJuYWlsOiByZWFkZXIucmVzdWx0IGFzIHN0cmluZyB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIHRoaXMuYXR0YWNoVHlwZSA9IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0udHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGxvYWRlZEZpbGUgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMudXJsUGF0aCA9ICcnO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIChfZXJyb3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbGlja1JlbW92ZVByb2ZpbGUoKSB7XHJcbiAgICAkKCcjRGVsZXRlUHJvZmlsZScpLm1vZGFsKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHJlbW92ZVRodW1ibmFpbCgpIHtcclxuICAgIHRoaXMuY2FuY2VsKHRydWUpO1xyXG4gICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUHJvZmlsZSBpbWFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICQoJyNEZWxldGVQcm9maWxlJykubW9kYWwoJ2hpZGUnKTtcclxuICAgIHRoaXMudXNlckZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnJlc2V0KCk7XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSAnJztcclxuICAgIHRoaXMuaW1hZ2VEYXRhID0gJyc7XHJcbiAgICB0aGlzLnVwbG9hZGVkRmlsZSA9ICcnO1xyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGVJbWFnZShmaWxlOiBhbnkpIHtcclxuICAgIGNvbnN0IGZpbGVTaXplID0gTnVtYmVyKGZpbGVbMF0uc2l6ZSkgLyAxMDI0O1xyXG4gICAgY29uc3QgZmlsZXR5cGUgPSBmaWxlWzBdLnR5cGUucmVwbGFjZSgnaW1hZ2UvJywgJycpO1xyXG4gICAgaWYgKGZpbGV0eXBlID09PSAnanBnJyB8fCBmaWxldHlwZSA9PT0gJ2pwZWcnIHx8IGZpbGV0eXBlID09PSAncG5nJyB8fCBmaWxldHlwZSA9PT0gJ2dpZicpIHtcclxuICAgICAgaWYgKGZpbGVTaXplIDwgMTAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gJ0ltYWdlIHNpemUgZXhjZWVkcyAxMDAgS0InO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ0ZpbGUgaXMgYmlnZ2VyIHRoYW4gMTAwIEtCJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSAnJztcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybihgJHtmaWxldHlwZX0gZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWRgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBzdG9wUHJvcGFnYXRpb24oZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdFBvbGljeUdyb3VwKGV2ZW50OmFueSkge1xyXG4gICAgbGV0IGN1cnJlbnRTZWxlY3Rpb25zID0gZXZlbnQudmFsdWU7XHJcbiAgICBjb25zdCBwcmV2aW91c2x5U2VsZWN0ZWQgPSB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHM7IFxyXG5cclxuICAgIC8vIGlmLWNvbmRpdGlvbiBzaWduaWZpZXMgc2VsZWN0LWFsbCBvciBkZS1zZWxlY3QgbXVsdGlwbGUgdmFsdWVzIGF0IGEgdGltZVxyXG4gICAgaWYoIShldmVudC5oYXNPd25Qcm9wZXJ0eSgnaXRlbVZhbHVlJykgJiYgZXZlbnQuaXRlbVZhbHVlKSl7XHJcbiAgICAgIC8vIHNlbGVjdC1hbGwgb3IgZGUtc2VsZWN0IGFsbCBhY3Rpb24gXHJcbiAgICAgIGxldCBkZVNlbGVjdEFsbFBvbGljeUdyb3VwcyA9IGZhbHNlO1xyXG4gICAgICBsZXQgc2VsZWN0QWxsUG9saWN5R3JvdXBzID0gZmFsc2U7IFxyXG5cclxuICAgICAgIC8vRWRnZSBDYXNlIDE6IHNlbGVjdC1hbGwgcG9saWN5Z3JvdXBzIGFjdGlvbiBjcml0ZXJpYSB3aXRoIG5vIGZpbHRlcnMgYXBwbGllZCAtPiBBbGwgUEdzIGluIHRoZSBkcm9wZG93biBpcyBzZWxlY3RlZFxyXG4gICAgICAgaWYoY3VycmVudFNlbGVjdGlvbnMubGVuZ3RoID09PSB0aGlzLnBvbGljeUdyb3VwTGlzdC5sZW5ndGgpe1xyXG4gICAgICAgIHNlbGVjdEFsbFBvbGljeUdyb3VwcyA9IHRydWU7IFxyXG4gICAgICB9IFxyXG5cclxuICAgICAgLy9FZGdlIENhc2UgMjogZGUtc2VsZWN0LWFsbCBwb2xpY3lncm91cHMgd2l0aCBubyBmaWx0ZXJzIGFwcGxpZWQgLT4gQWxsIFBHcyBpbiBkcm9wZG93biBpcyBkZS1zZWxlY3RlZCBhbmQgb25seSByb2xlLWJhc2VkIFBHcyByZW1haW5cclxuICAgICAgaWYoY3VycmVudFNlbGVjdGlvbnMubGVuZ3RoID09PSB0aGlzLnJvbGVQb2xpY3lHcm91cHMubGVuZ3RoICYmXHJcbiAgICAgICAgdGhpcy5yb2xlUG9saWN5R3JvdXBzLmV2ZXJ5KHJvbGVQb2xpY3kgPT4gXHJcbiAgICAgICAgICBjdXJyZW50U2VsZWN0aW9ucy5zb21lKHNlbGVjdGlvbiA9PiBzZWxlY3Rpb24uaWQgPT09IHJvbGVQb2xpY3kuaWQpKSl7XHJcbiAgICAgICAgICAgIGRlU2VsZWN0QWxsUG9saWN5R3JvdXBzID0gdHJ1ZTsgXHJcbiAgICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvL0lmIEVkZ2UgQ2FzZSAxIG9yIEVkZ2UgQ2FzZSAyIGhhcHBlbiwgdGhpcy5maWx0ZXJUZXh0IHNob3VsZCBiZSBzZXQgdG8gJydcclxuICAgICAgaWYoc2VsZWN0QWxsUG9saWN5R3JvdXBzIHx8IGRlU2VsZWN0QWxsUG9saWN5R3JvdXBzKXtcclxuICAgICAgICB0aGlzLmZpbHRlclRleHQgPSAnJzsgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vRWRnZSBDYXNlIDM6IGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQgYW5kIHNlbGVjdC1hbGwgb3IgZGUtc2VsZWN0LWFsbCBQR3MgaW4gZmlsdGVyZWQgdmlldyBcclxuICAgICAgaWYodGhpcy5maWx0ZXJUZXh0ICYmIHRoaXMuZmlsdGVyVGV4dCAhPT0gJycpe1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkSXRlbUlkcyA9IHRoaXMuZmlsdGVyZWRJdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmlkKTtcclxuICAgICAgICBpZiAoY3VycmVudFNlbGVjdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAvL0VkZ2UgQ2FzZSAzLjEgOiBEZXNlbGVjdC1hbGwgaW4gZmlsdGVyZWQgdmlld1xyXG4gICAgICAgICAgdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzID0gcHJldmlvdXNseVNlbGVjdGVkLmZpbHRlcigoaXRlbTogYW55KSA9PiAhZmlsdGVyZWRJdGVtSWRzLmluY2x1ZGVzKGl0ZW0uaWQpKTtcclxuICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb25zID0gdGhpcy5wcmV2aW91c1NlbGVjdGVkUG9saWN5R3JvdXBzOyBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy9FZGdlIENhc2UgMy4yIDpTZWxlY3QtYWxsIGluIGZpbHRlcmVkIHZpZXdcclxuICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGlvbnMgPSB0aGlzLmZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtOiBhbnkpID0+ICFwcmV2aW91c2x5U2VsZWN0ZWQuc29tZSgocHJldkl0ZW06IGFueSkgPT4gcHJldkl0ZW0uaWQgPT09IGl0ZW0uaWQpKTtcclxuICAgICAgICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IFsuLi5wcmV2aW91c2x5U2VsZWN0ZWQsIC4uLm5ld1NlbGVjdGlvbnNdO1xyXG4gICAgICAgICAgY3VycmVudFNlbGVjdGlvbnMgPSB0aGlzLnByZXZpb3VzU2VsZWN0ZWRQb2xpY3lHcm91cHM7IFxyXG4gICAgICAgIH1cclxuICAgICAgfSBcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlU2VsZWN0aW9ucyh0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJyb2xlcywgY3VycmVudFNlbGVjdGlvbnMpO1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSBjdXJyZW50U2VsZWN0aW9ucy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTZWxlY3Rpb25zKHJvbGVJZCwgY3VycmVudFNlbGVjdGlvbnMpe1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cExpc3QuZm9yRWFjaChwZyA9PiBwZ1snZGlzYWJsZWQnXSA9IGZhbHNlKTtcclxuICAgIGlmICghcm9sZUlkKSB7XHJcbiAgICAgIHRoaXMucm9sZVBvbGljeUdyb3VwcyA9IFtdO1xyXG4gICAgICB0aGlzLnVzZXJGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIHVzZXJwb2xpY3lncm91cHM6IFtdLFxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy51c2VyU2VydmljZS5nZXRSb2xlQnlJZChyb2xlSWQpLnN1YnNjcmliZShcclxuICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgdGhpcy5yb2xlUG9saWN5R3JvdXBzID0gcmVzWydkYXRhJ10ucG9saWN5R3JvdXBzLnNvcnQoKGEsIGIpID0+IGEucG9saWN5Z3JvdXBuYW1lLmxvY2FsZUNvbXBhcmUoYi5wb2xpY3lncm91cG5hbWUpKTtcclxuICAgICAgICAgIGNvbnN0IFBHUyA9IHJlc1snZGF0YSddLnBvbGljeUdyb3Vwc1xyXG4gICAgICAgICAgICAuZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0pXHJcbiAgICAgICAgICAgIC5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgICB9KSB8fCBbXVxyXG4gICAgICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLnBvbGljeUdyb3VwTGlzdDtcclxuICAgICAgICAgIFBHUy5tYXAoKHBnOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGdFeGlzdHMgPSBsaXN0LmZpbHRlcigoZikgPT4gZi5pZCA9PT0gcGcuaWQpXHJcbiAgICAgICAgICAgIGlmIChwZ0V4aXN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBhcnIucHVzaChwZ0V4aXN0c1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYXJyKTsgXHJcbiAgICAgICAgICB0aGlzLnVzZXJGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgICAgICB1c2VycG9saWN5Z3JvdXBzOiBhcnJcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBjb25zdCByb2xlUEdzID0gdGhpcy51c2VyRm9ybS52YWx1ZS51c2VycG9saWN5Z3JvdXBzLm1hcCgocikgPT4gci5pZCk7XHJcbiAgICAgICAgICBjb25zdCBpbmNsdWRlZEluZGV4ZXMgPSBbXTtcclxuICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkSW5kZXhlcyA9IFtdO1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QuZm9yRWFjaCgocGcsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyb2xlUEdzLmluY2x1ZGVzKHBnLmlkKSkge1xyXG4gICAgICAgICAgICAgIGluY2x1ZGVkSW5kZXhlcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBleGNsdWRlZEluZGV4ZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29uc3QgcmVvcmRlcmVkTGlzdCA9IGluY2x1ZGVkSW5kZXhlcy5tYXAoaW5kZXggPT4gdGhpcy5wb2xpY3lHcm91cExpc3RbaW5kZXhdKS5jb25jYXQoZXhjbHVkZWRJbmRleGVzLm1hcChpbmRleCA9PiB0aGlzLnBvbGljeUdyb3VwTGlzdFtpbmRleF0pKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlb3JkZXJlZExpc3QsIFwicmVvcmRlclwiKTtcclxuICAgICAgICAgIHJlb3JkZXJlZExpc3QuZm9yRWFjaChwZyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyb2xlUEdzLmluY2x1ZGVzKHBnLmlkKSkge1xyXG4gICAgICAgICAgICAgIHBnWydkaXNhYmxlZCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLnBvbGljeUdyb3VwTGlzdCA9IHJlb3JkZXJlZExpc3Q7XHJcbiAgICAgICAgICBjb25zdCBhbGxQb2xpY3lHcm91cHMgPSB0aGlzLnVzZXJGb3JtLnZhbHVlLnVzZXJwb2xpY3lncm91cHMuY29uY2F0KGN1cnJlbnRTZWxlY3Rpb25zKTtcclxuICAgICAgICAgIGNvbnN0IHVuaXF1ZVBvbGljeUdyb3VwcyA9IEFycmF5LmZyb20obmV3IFNldChhbGxQb2xpY3lHcm91cHMpKTtcclxuICAgICAgICAgIHRoaXMudXNlckZvcm0ucGF0Y2hWYWx1ZSh7IHVzZXJwb2xpY3lncm91cHM6IHVuaXF1ZVBvbGljeUdyb3VwcyB9KTtcclxuICAgICAgICAgIHRoaXMucHJldmlvdXNTZWxlY3RlZFBvbGljeUdyb3VwcyA9IHVuaXF1ZVBvbGljeUdyb3VwczsgXHJcbiAgICAgICAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IHRoaXMudXNlckZvcm0udmFsdWUudXNlcnBvbGljeWdyb3Vwcy5sZW5ndGg7XHJcbiAgICAgICAgfSBcclxuICAgICAgfSxcclxuICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBGZXRjaCBQb2xpY3kgR3JvdXBzJylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvblBhZ2VOYW1lSW5wdXQoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIG5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSBpbnB1dC5zZWxlY3Rpb25TdGFydDtcclxuICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gaW5wdXQuc2VsZWN0aW9uRW5kO1xyXG4gICAgY29uc3QgcGFnZW5hbWVDb250cm9sID0gdGhpcy51c2VyRm9ybS5nZXQobmFtZSk7XHJcbiAgICBpZiAocGFnZW5hbWVDb250cm9sLnZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGFnZW5hbWVDb250cm9sLnZhbHVlXHJcbiAgICAgICAgLnNwbGl0KCcgJylcclxuICAgICAgICAubWFwKHdvcmQgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpXHJcbiAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgcGFnZW5hbWVDb250cm9sLnBhdGNoVmFsdWUobmV3VmFsdWUsIHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcclxuICAgICAgLy8gUmVzdG9yZSBjdXJzb3IgcG9zaXRpb25cclxuICAgICAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBvbkZpbHRlclBvbGljeUdyb3VwKGV2ZW50OmFueSl7XHJcbiAgICB0aGlzLmZpbHRlclRleHQgPSBldmVudC5maWx0ZXI7IFxyXG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5wb2xpY3lHcm91cExpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wb2xpY3lncm91cG5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLmZpbHRlclRleHQudG9Mb3dlckNhc2UoKSkpO1xyXG4gIH1cclxufVxyXG4iLCI8YXBwLWFsZXJ0PjwvYXBwLWFsZXJ0PlxyXG48ZGl2IGNsYXNzPVwicGVybWlzc2lvblwiPlxyXG4gIDxkaXYgY2xhc3M9XCJyb3dcIiBbZm9ybUdyb3VwXT1cInVzZXJGb3JtXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTQgY29sLW1kLTYgY29sLTEyXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgcHktMiBweC0wIHB4LXNtLTBcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLXBhbmUgZmFkZSBzaG93IGFjdGl2ZVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYmdpY29uc2VhcmNoIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwLWlucHV0LWljb24tcmlnaHQgdy0xMDBcIj5cclxuICAgICAgICAgICAgICA8aSBjbGFzcz1cInBpIHBpLXRpbWVzLWNpcmNsZVwiIChjbGljayk9XCJjbGVhclNlYXJjaCgkZXZlbnQpXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX1NFQVJDSF9CWV9OQU1FXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgVXNlciBuYW1lXCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgKGtleXVwKT1cInNlYXJjaFVzZXIoJGV2ZW50KVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gbWwtMlwiIChjbGljayk9XCJvbkNsaWNrQWRkVXNlcigpXCI+QWRkPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwhLS0gTW9kaWZpZWQgbGluZSAtLT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidXNlcmFjZXNzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgaC0xMDAgdy0xMDAgbmctc3Rhci1pbnNlcnRlZFwiXHJcbiAgICAgICAgICAgICAgKm5nSWY9XCIhZmlsdGVyZWRVc2VyTGlzdC5sZW5ndGhcIj5cclxuICAgICAgICAgICAgICA8cD5ObyBSZWNvcmQgRm91bmQ8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZpbHRlcmVkVXNlckxpc3RcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHVzZXJkYXRhIGFsaWduLWl0ZW1zLWNlbnRlclwiIChjbGljayk9XCJnZXRVc2VySW5mbyhpdGVtKVwiXHJcbiAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7IGFjdGl2ZTogaXRlbS5pZCA9PT0gdXNlcmlkIH1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGltZyAqbmdJZj1cIiFpdGVtPy5hZGRpdGlvbmFsaW5mbz8udGh1bWJuYWlsPy51cmxcIiBzcmM9XCJhc3NldHMvaW1hZ2VzL3VzZXItZW1wdHkucG5nXCIgYWx0PVwidXNlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1c2VyZW1wdHkgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxpbWcgKm5nSWY9XCJpdGVtPy5hZGRpdGlvbmFsaW5mbz8udGh1bWJuYWlsPy51cmxcIiBbc3JjXT1cIml0ZW0/LmFkZGl0aW9uYWxpbmZvPy50aHVtYm5haWw/LnVybFwiXHJcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwidXNlclwiIGNsYXNzPVwidXNlcmVtcHR5IG1yLTJcIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm92ZXJmbG93X3R4dCB1c2VySW5mb3JpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJuYW1ldXNlclwiPnt7IGl0ZW0uZmlyc3RuYW1lICsgJyAnICsgaXRlbS5sYXN0bmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVtYWlsdXNlclwiPnt7IGl0ZW0uZW1haWwgfX08L3NwYW4+IDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2NrLWljb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJpZ2h0LWljb25zXCIgKm5nSWY9XCJpdGVtPy5pc2xvY2tlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtbG9jayBtci0yXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgKGNsaWNrKT1cInN0b3BQcm9wYWdhdGlvbigkZXZlbnQpXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyaWdodC1pY29uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiAoY2xpY2spPVwiZGVsZXRlKCRldmVudCwgaXRlbS5pZClcIiBhcmlhLWhpZGRlbj1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqc2hvd0ZpZWxkPVwiJ1NFVFRJTkdTX1VTUl9ERUxFVEVfVVNFUidcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTggY29sLW1kLTYgY29sLTEyIHVzZXItcmlnaHQgc2V0dGluZy10YWIgbXQtMlwiPlxyXG4gICAgICA8cC1jYXJkIGNsYXNzPVwicmJhYy1jYXJkIGgtMTAwXCIgW3N0eWxlXT1cInsgd2lkdGg6ICcxMDAlJyB9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX2hlYWQgdG9nZ2xlbGVmdFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXBvcnRfaGVhZCBmb250LXdlaWdodC1ib2xkXCI+UGVyc29uYWwgRGV0YWlsczwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiZm5hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+Rmlyc3QgTmFtZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cImZuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIEZpcnN0IE5hbWVcIiBmb3JtQ29udHJvbE5hbWU9XCJmaXJzdG5hbWVcIlxyXG4gICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX0ZJUlNUX05BTUVcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiZm5hbWVcIiBwSW5wdXRUZXh0XHJcbiAgICAgICAgICAgICAgKGtleXVwKT1cIm9uUGFnZU5hbWVJbnB1dCgkZXZlbnQsICdmaXJzdG5hbWUnKVwiXHJcbiAgICAgICAgICAgICAgKGlucHV0KT1cIm9uSW5wdXQoJGV2ZW50LCAndXNlcm5hbWUnLCAnRmlyc3QgTmFtZScsIHRydWUpXCIgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInZhbGlkYXRpb25FcnJvcnNbJ0ZpcnN0IE5hbWUnXVwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+e3t2YWxpZGF0aW9uRXJyb3JzWydGaXJzdCBOYW1lJ119fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiF2YWxpZGF0aW9uRXJyb3JzWydGaXJzdCBOYW1lJ10gJiYgZm9ybVZhbGlkYXRlWydmaXJzdG5hbWUnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2ZpcnN0bmFtZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPkZpcnN0IE5hbWUgaXMgcmVxdWlyZWQgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJtbmFtZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5NaWRkbGUgTmFtZSA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJtbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBNaWRkbGUgTmFtZVwiIGZvcm1Db250cm9sTmFtZT1cIm1pZGRsZW5hbWVcIlxyXG4gICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX01JRERMRV9OQU1FXCIgYXJpYS1kZXNjcmliZWRieT1cIm1uYW1lXCIgcElucHV0VGV4dFxyXG4gICAgICAgICAgICAgIChrZXl1cCk9XCJvblBhZ2VOYW1lSW5wdXQoJGV2ZW50LCAnbWlkZGxlbmFtZScpXCJcclxuICAgICAgICAgICAgICAoaW5wdXQpPVwib25JbnB1dCgkZXZlbnQsICd1c2VybmFtZScsICdNaWRkbGUgTmFtZScsIGZhbHNlKVwiIC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uRXJyb3JzWydNaWRkbGUgTmFtZSddXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj57e3ZhbGlkYXRpb25FcnJvcnNbJ01pZGRsZSBOYW1lJ119fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibE5hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+TGFzdCBOYW1lXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwibE5hbWVcIiB0eXBlPVwidGV4dFwiIGZvcm1Db250cm9sTmFtZT1cImxhc3RuYW1lXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBMYXN0IE5hbWVcIlxyXG4gICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX0xBU1RfTkFNRVwiIHBJbnB1dFRleHQgKGtleXVwKT1cIm9uUGFnZU5hbWVJbnB1dCgkZXZlbnQsICdsYXN0bmFtZScpXCJcclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwibE5hbWVcIiAoaW5wdXQpPVwib25JbnB1dCgkZXZlbnQsICd1c2VybmFtZScsICdMYXN0IE5hbWUnLCB0cnVlKVwiIC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uRXJyb3JzWydMYXN0IE5hbWUnXVwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+e3t2YWxpZGF0aW9uRXJyb3JzWydMYXN0IE5hbWUnXX19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbGlkYXRpb25FcnJvcnNbJ0xhc3QgTmFtZSddICYmIGZvcm1WYWxpZGF0ZVsnbGFzdG5hbWUnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2xhc3RuYW1lJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+TGFzdCBOYW1lIGlzIHJlcXVpcmVkIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcm93XCI+XHJcbiAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInVzZXJOYW1lXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPlVzZXIgTmFtZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cInVzZXJOYW1lXCIgdHlwZT1cInRleHRcIiBmb3JtQ29udHJvbE5hbWU9XCJ1c2VybmFtZVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgVXNlciBOYW1lXCJcclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwidXNlck5hbWVcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9VU0VSTkFNRVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsndXNlcm5hbWUnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxzbWFsbCAqbmdJZj1cImZvcm1WYWxpZGF0ZVsndXNlcm5hbWUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+VXNlciBOYW1lIGlzIHJlcXVpcmVkIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwidXNlcnNFbWFpbGlkXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkVtYWlsIElEXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwidXNlcnNFbWFpbGlkXCIgZmllbGRLZXk9XCJTRVRUSU5HU19VU1JfRU1BSUxcIiBmb3JtQ29udHJvbE5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgRW1haWwgSURcIlxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgKGlucHV0KT1cIm9uSW5wdXQoJGV2ZW50LCAnZW1haWwnLCAnRW1haWwgSUQnLCB0cnVlKVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInZhbGlkYXRpb25FcnJvcnNbJ0VtYWlsIElEJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snRW1haWwgSUQnXX19PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhdmFsaWRhdGlvbkVycm9yc1snRW1haWwgSUQnXSAmJiBmb3JtVmFsaWRhdGVbJ2VtYWlsJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydlbWFpbCddLmVycm9yc1sncmVxdWlyZWQnXVwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+RW1haWwgSUQgaXMgcmVxdWlyZWRcclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0gPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsnZW1haWwnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxzbWFsbCAqbmdJZj1cImZvcm1WYWxpZGF0ZVsnZW1haWwnXS5lcnJvcnNbJ3BhdHRlcm4nXVwiIGNsYXNzPVwicC1lcnJvciBibG9ja1wiPlZhbGlkIGVtYWlsIGlzIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgPC9zbWFsbD5cclxuICAgICAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBhcmlhLWxhYmVsbGVkYnk9XCJyb2xlXCIgZm9yPVwicm9sZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5Sb2xlXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHAtZHJvcGRvd24gaW5wdXRJZD1cInJvbGVcIiBbb3B0aW9uc109XCJ1c2VyUm9sZXNcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIFJvbGVcIiBmb3JtQ29udHJvbE5hbWU9XCJ1c2Vycm9sZXNcIlxyXG4gICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIFtyZXNldEZpbHRlck9uSGlkZV09XCJ0cnVlXCIgW2ZpbHRlcl09XCJ0cnVlXCIgW3Nob3dDbGVhcl09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImlkXCIgYXJpYUZpbHRlckxhYmVsPVwibnVsbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX1JPTEVcIlxyXG4gICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJnZXRSb2xlUG9saWN5R3JvdXBzKCRldmVudC52YWx1ZSlcIj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tpdGVtPy5uYW1lfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8ubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAge3sgb2JqZWN0Lm5hbWUgfX1cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3VzZXJyb2xlcyddLmVycm9ycyAmJiBmb3JtU3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsndXNlcnJvbGVzJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+Um9sZSBpcyByZXF1aXJlZCA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPHAtYWNjb3JkaW9uIGNsYXNzPVwidy1mdWxsIHBvbGljeWdyb3VwLWFjY29yZGlvblwiIGljb25Qb3M9XCJlbmRWYWxcIj5cclxuICAgICAgICAgICAgICA8cC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgaGVhZC10ZXh0IGdhcC0yIHctZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkXCI+PGxhYmVsIGZvcj1cInBHcm91cFwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHMgbWItMFwiPkFkZGl0aW9uYWwgUG9saWN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwczwvbGFiZWw+IDxzcGFuICpuZ0lmPVwicG9saWN5R3JvdXBzTGVuZ3RoID4gMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicGctY291bnQgbWwtMlwiPnt7cG9saWN5R3JvdXBzTGVuZ3RofX08L3NwYW4+IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cInBvbGljeUdyb3VwTGlzdFwiIGZvcm1Db250cm9sTmFtZT1cInVzZXJwb2xpY3lncm91cHNcIiBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbD1cIlNlbGVjdCBQb2xpY3kgR3JvdXBzXCIgb3B0aW9uTGFiZWw9XCJwb2xpY3lncm91cG5hbWVcIiBpbnB1dElkPVwicEdyb3VwXCJcclxuICAgICAgICAgICAgICAgICAgYXJpYUZpbHRlckxhYmVsPVwibnVsbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfVVNSX1BPTElDWV9HUk9VUFwiIChvbkNoYW5nZSk9XCJzZWxlY3RQb2xpY3lHcm91cCgkZXZlbnQpXCIgXHJcbiAgICAgICAgICAgICAgICAgIChvbkZpbHRlcik9XCJvbkZpbHRlclBvbGljeUdyb3VwKCRldmVudClcIiBkaXNwbGF5PVwiY2hpcFwiIHN0eWxlQ2xhc3M9XCJwb2xpY3lncm91cC12MlwiPlxyXG4gICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LXZhbHVlIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbXNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBvcHRpb24gb2YgdmFsdWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgI3NlbGVjdGVkcGcgY2xhc3M9XCJwLW11bHRpc2VsZWN0LXRva2VuXCIgW25nQ2xhc3NdPVwib3B0aW9uLmRpc2FibGVkID8gJ2Rpc2FibGVkJyA6ICcnIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e29wdGlvbi5pZH19XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwb2xpY3lncm91cG5hbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IG9wdGlvbi5wb2xpY3lncm91cG5hbWUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2xlcGcgbWwtMiBiYWRnZSBiYWRnZS1wcmltYXJ5XCIgKm5nSWY9XCJvcHRpb24uZGlzYWJsZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwicGkgcGktdGltZXMtY2lyY2xlIG1sLTIgY2xlYXItaWNvbiByaWdodC1zZWNcIiAqbmdJZj1cIiFvcHRpb24uZGlzYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiIChjbGljayk9XCJyZW1vdmVWYWx1ZSgkZXZlbnQsIHNlbGVjdGVkcGcpXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMFwiPlNlbGVjdCBQb2xpY3kgR3JvdXBzXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtcGcgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGZsZXgtcm93IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGdhcC0yIGRpc2FibGVkLWxpc3Qgdy0xMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e3sgcGcubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2xlcGcgbWwtMiBiYWRnZSBiYWRnZS1wcmltYXJ5XCIgKm5nSWY9XCJwZy5kaXNhYmxlZFwiPlJvbGU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8L3AtbXVsdGlTZWxlY3Q+XHJcbiAgICAgICAgICAgICAgPC9wLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgPC9wLWFjY29yZGlvbj5cclxuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLW1kLTEyIGNvbC0xMiBtYi0xIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiAqbmdJZj1cIiFzZW5kQ3JlZGVudGlhbHNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImZpbGVcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBtdC0yIG1iLTIgcHJvZmlsZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uIG1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgYWN0aW9uLWJ0biB1cGxvYWQgbXItMlwiPmNsb3VkX3VwbG9hZDwvc3Bhbj5BZGRcclxuICAgICAgICAgICAgICBJbWFnZTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbiBtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIHRleHQtbXV0ZWQgYWN0aW9uLWJ0biBteC0yXCJcclxuICAgICAgICAgICAgICBwVG9vbHRpcD1cIlN1cHBvcnRlZCBmaWxlIGZvcm1hdHMgYXJlIEpQRywgUE5HLCBKUEVHIGFuZCBHSUZcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj5cclxuICAgICAgICAgICAgICBJbmZvXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgKGNoYW5nZSk9XCJoYW5kbGVGaWxlSW5wdXQoJGV2ZW50KVwiIGlkPVwiZmlsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW47IGRpc3BsYXk6IG5vbmVcIiAvPlxyXG4gICAgICAgICAgICA8aW1nICpuZ0lmPVwidXNlckZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnZhbHVlXCIgW3NyY109XCJ1c2VyRm9ybS5jb250cm9sc1sndGh1bWJuYWlsJ10udmFsdWVcIiBhbHQ9XCJ1c2VyXCJcclxuICAgICAgICAgICAgICBjbGFzcz1cInVzZXJlbXB0eSBtci0wXCIgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwid2FybmluZyBtbC0yIG1iLW1kLTBcIlxyXG4gICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsgY29sb3I6IGltYWdlSW5mb3JtYXRpb24gPT09ICdJbWFnZSBzaXplIGV4Y2VlZHMgMTAwIEtCJyA/ICcjZmMwMzAzJyA6ICcjMDA3Y2MzJ31cIj57e1xyXG4gICAgICAgICAgICAgIGltYWdlSW5mb3JtYXRpb24gfX08L2xhYmVsPiA8ZW0gY2xhc3M9XCJwaSBwaS10cmFzaCBtbC0yXCIgcFRvb2x0aXA9XCJSZW1vdmUgSW1hZ2VcIlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwidXNlckZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnZhbHVlICYmIGltYWdlSW5mb3JtYXRpb24gIT09ICdJbWFnZSBzaXplIGV4Y2VlZHMgMTAwIEtCJ1wiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2tSZW1vdmVQcm9maWxlKClcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj48L2VtPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLXNtLTQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZC1jaGVja2JveCBzZW5kLWNyZWRlbnRpYWxzXCIgKm5nSWY9XCJzZW5kQ3JlZGVudGlhbHNcIj5cclxuICAgICAgICAgICAgICA8cC1jaGVja2JveCBjbGFzcz1cInAtbS0xIHAtbS1sZy0yXCIgaW5wdXRJZD1cImJpbmFyeVwiIFtiaW5hcnldPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9FTUFJTF9UT19DVVJSRU5UX1VTRVJcIiBmb3JtQ29udHJvbE5hbWU9XCJlbWFpbHRvY3VycmVudHVzZXJcIj5cclxuICAgICAgICAgICAgICA8L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJpbmFyeVwiPlNlbmQgQ3JlZGVudGlhbHMgdG8gQ3VycmVudCBMb2dnZWQgaW4gVXNlcjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcm93XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkLWNoZWNrYm94IHNlbmQtY3JlZGVudGlhbHNcIiAqbmdJZj1cIiFzZW5kQ3JlZGVudGlhbHNcIj5cclxuICAgICAgICAgICAgICA8cC1jaGVja2JveCBjbGFzcz1cInAtbS0xIHAtbS1sZy0yXCIgaW5wdXRJZD1cImlzZW5hYmxlZFwiIFtiaW5hcnldPVwidHJ1ZVwiIGZvcm1Db250cm9sTmFtZT1cImlzZW5hYmxlZFwiPlxyXG4gICAgICAgICAgICAgIDwvcC1jaGVja2JveD5cclxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiaXNlbmFibGVkXCI+QWN0aXZlPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1zbS00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQtY2hlY2tib3ggc2VuZC1jcmVkZW50aWFsc1wiICpuZ0lmPVwiIXNlbmRDcmVkZW50aWFsc1wiPlxyXG4gICAgICAgICAgICAgIDxwLWNoZWNrYm94IGNsYXNzPVwicC1tLTEgcC1tLWxnLTJcIiBpbnB1dElkPVwiaXNsb2NrZWRcIiBbYmluYXJ5XT1cInRydWVcIiBmb3JtQ29udHJvbE5hbWU9XCJpc2xvY2tlZFwiPlxyXG4gICAgICAgICAgICAgIDwvcC1jaGVja2JveD5cclxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiaXNsb2NrZWRcIj5Mb2NrZWQ8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcm93XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyXCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtc20tNCBjb2wtbWQtMTIgY29sLTEyIG1iLTBcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBmaWVsZEtleT1cIlNFVFRJTkdTX1VTUl9BRERfVVBEQVRFXCIgY2xhc3M9XCJwdWxsLXJpZ2h0IG1yLTIgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCJcclxuICAgICAgICAgICAgICAoY2xpY2spPVwiYWRkVXNlcigpXCI+XHJcbiAgICAgICAgICAgICAge3sgdXNlcmlkID8gJ1VwZGF0ZSBVc2VyJyA6ICdBZGQgVXNlcicgfX1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gZmllbGRLZXk9XCJTRVRUSU5HU19VU1JfQ0FOQ0VMXCIgY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImNhbmNlbFVzZXIoKVwiIFtkaXNhYmxlZF09XCIhZW5hYmxlQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgQ2xlYXJcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9wLWNhcmQ+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiRGVsZXRldXNlclwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICA8cD5BcmUgeW91IHN1cmUgd2FudCB0byBEZWxldGUgVXNlcj88L3A+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIChjbGljayk9XCJkZWxldGVVc2VyKClcIj5cclxuICAgICAgICAgICAgRGVsZXRlXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIkRlbGV0ZVByb2ZpbGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgUHJvZmlsZSBJbWFnZT88L3A+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXHJcbiAgICAgICAgICAgIChjbGljayk9XCJyZW1vdmVUaHVtYm5haWwoKVwiPlxyXG4gICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==